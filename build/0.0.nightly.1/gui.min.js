/* GUIEasy  Copyright (C) 2019-2019  Jimmy "Grovkillen" Westberg */const guiEasy={logLevel:0,name:"GUI Easy",version:{major:0,minor:0,minimal:1,development:!0,releaseCandidate:0,full:function(){let e=guiEasy.version;return!0===e.development&&e.releaseCandidate>0?e.major+"."+e.minor+".rc"+e.releaseCandidate+"."+e.minimal:!0===e.development?e.major+"."+e.minor+".nightly."+e.minimal:e.major+"."+e.minor+"."+e.minimal}},geekName:function(){return guiEasy.name.replace(" ","-").toLowerCase()},geekNameFull:function(){return guiEasy.geekName()+"-"+guiEasy.version.full()},current:{},fetchSettings:{maxToKeep:5,minToKeep:1,intervalGUIupdater:1e3,intervalTimeKeeper:700,maxToKeepMs:function(){return 6e4/guiEasy.intervalGUIupdater}},nodes:[],startup:[{id:"curly",logText:"HTML build up"},{id:"scrubber",logText:"HTML scrubbing"},{id:"popper",logText:"Adding event handlers"},{id:"pitcher",logText:"Getting data from unit plus setting up user preferences"}],silentStartup:[{id:"butler",logText:"Fetching stuff from internet"},{id:"tender",logText:"The relay runner is being triggered"}],endpoints:{defaultTTL:function(){return 6e4},get:[{endpoint:"json",ttl_fallback:2e3},{endpoint:"buildinfo",ttl_fallback:99999999},{endpoint:"logjson"},{endpoint:"sysinfo_json"},{endpoint:"node_list_json"},{endpoint:"filelist_json"},{endpoint:"i2cscanner_json"},{endpoint:"pinstates_json"},{endpoint:"timingstats_json",ttl_fallback:999999},{endpoint:"wifiscanner_json"}],post:[{endpoint:"factoryreset_json"},{endpoint:"upload_json"}]},fetchingWait:"Fetching not yet completed, please wait...",maxTasks:function(e="ESP82XX"){return"ESP82XX"===e?12:"ESP32"===e?48:void 0},maxValuesPerTask:function(e="ESP82XX"){return"ESP82XX"===e?4:"ESP32"===e?8:void 0},maxNotification:function(e="ESP82XX"){return"ESP82XX"===e?3:"ESP32"===e?3:void 0},maxController:function(e="ESP82XX"){return"ESP82XX"===e?3:"ESP32"===e?3:void 0},maxPluginConfigVar:function(e="ESP82XX"){return"ESP82XX"===e?8:"ESP32"===e?8:void 0},maxPluginConfigFloatVar:function(e="ESP82XX"){return"ESP82XX"===e?4:"ESP32"===e?4:void 0},maxPluginConfigLongVar:function(e="ESP82XX"){return"ESP82XX"===e?4:"ESP32"===e?4:void 0},maxPluginExtraConfigVar:function(e="ESP82XX"){return"ESP82XX"===e?16:"ESP32"===e?16:void 0},maxFormulaLength:function(e="ESP82XX"){return"ESP82XX"===e?40:"ESP32"===e?40:void 0},timelist:{week:[{text:"Last",value:0,disabled:!1,note:""},{text:"1st",value:1,disabled:!1,note:""},{text:"2nd",value:2,disabled:!1,note:""},{text:"3rd",value:3,disabled:!1,note:""},{text:"4th",value:4,disabled:!1,note:""}],day:[{text:"Monday",value:1,disabled:!1,note:""},{text:"Tuesday",value:2,disabled:!1,note:""},{text:"Wednesday",value:3,disabled:!1,note:""},{text:"Thursday",value:4,disabled:!1,note:""},{text:"Friday",value:5,disabled:!1,note:""},{text:"Saturday",value:6,disabled:!1,note:""},{text:"Sunday",value:7,disabled:!1,note:""}],month:[{text:"January",value:1,disabled:!1,note:""},{text:"February",value:2,disabled:!1,note:""},{text:"Mars",value:3,disabled:!1,note:""},{text:"April",value:4,disabled:!1,note:""},{text:"May",value:5,disabled:!1,note:""},{text:"June",value:6,disabled:!1,note:""},{text:"July",value:7,disabled:!1,note:""},{text:"August",value:8,disabled:!1,note:""},{text:"September",value:9,disabled:!1,note:""},{text:"October",value:10,disabled:!1,note:""},{text:"November",value:11,disabled:!1,note:""},{text:"December",value:12,disabled:!1,note:""}]},gpiolist:function(e="ESP82XX"){return"ESP82XX"===e?[{text:"- None -",value:-1,disabled:!1,note:""},{text:"GPIO 0 (D3)",value:0,disabled:!1,note:"⚠"},{text:"GPIO 1 (D10)",value:1,disabled:!0,note:"Tx0"},{text:"GPIO 2 (D4)",value:2,disabled:!1,note:"⚠"},{text:"GPIO 3 (D9)",value:3,disabled:!0,note:"Rx0"},{text:"GPIO 4 (D2)",value:4,disabled:!1,note:""},{text:"GPIO 5 (D1)",value:5,disabled:!1,note:""},{text:"GPIO 9 (D11)",value:9,disabled:!1,note:"⚠"},{text:"GPIO 10 (D10)",value:10,disabled:!1,note:"⚠"},{text:"GPIO 12 (D12)",value:12,disabled:!1,note:""},{text:"GPIO 13 (D13)",value:13,disabled:!1,note:""},{text:"GPIO 14 (D14)",value:14,disabled:!1,note:""},{text:"GPIO 15 (D15)",value:15,disabled:!1,note:"⚠"},{text:"GPIO 16 (D16)",value:16,disabled:!1,note:""}]:"ESP32"===e?null:void 0},tabs:{left:["main","config","hardware","devices"],right:["controllers","notification","tools","rules"]},guiStats:{pageSize:0,bootTime:0,eventCalls:0,eventCallsTotal:0},syntax:{curlyLC:0,curly:["fetching","input","table","goto","button","version","devicetable","controllertable","notificationtable","setup","notifier","drawer","navbar","unit","unitname","modal","menu","wave","page","logo","icon"]},configDat:{}};guiEasy.configDat.configDatParseConfig=[{prop:"status.PID",type:"int32"},{prop:"status.version",type:"int32"},{prop:"status.build",type:"int16"},{prop:"config.IP.ip",type:"bytes",length:4},{prop:"config.IP.gw",type:"bytes",length:4},{prop:"config.IP.subnet",type:"bytes",length:4},{prop:"config.IP.dns",type:"bytes",length:4},{prop:"config.experimental.ip_octet",type:"byte"},{prop:"config.general.unitnr",type:"byte"},{prop:"config.general.unitname",type:"string",length:26},{prop:"config.ntp.host",type:"string",length:64},{prop:"config.sleep.sleeptime",type:"int32"},{prop:"hardware.i2c.sda",type:"byte"},{prop:"hardware.i2c.scl",type:"byte"},{prop:"hardware.led.gpio",type:"byte"},{prop:"Pin_sd_cs",type:"byte"},{prop:"hardware.gpio",type:"bytes",length:17},{prop:"config.log.syslog_ip",type:"bytes",length:4},{prop:"config.espnetwork.port",type:"int32"},{prop:"config.log.syslog_level",type:"byte"},{prop:"config.log.serial_level",type:"byte"},{prop:"config.log.web_level",type:"byte"},{prop:"config.log.sd_level",type:"byte"},{prop:"config.serial.baudrate",type:"int32"},{prop:"config.mqtt.interval",type:"int32"},{prop:"config.sleep.awaketime",type:"byte"},{prop:"CustomCSS",type:"byte"},{prop:"config.dst.enabled",type:"byte"},{prop:"config.experimental.WDI2CAddress",type:"byte"},{prop:"config.rules.enabled",type:"byte"},{prop:"config.serial.enabled",type:"byte"},{prop:"config.ssdp.enabled",type:"byte"},{prop:"config.ntp.enabled",type:"byte"},{prop:"config.experimental.WireClockStretchLimit",type:"int32"},{prop:"GlobalSync",type:"byte"},{prop:"config.experimental.ConnectionFailuresThreshold",type:"int32"},{prop:"TimeZone",type:"int16",signed:!0},{prop:"config.mqtt.retain_flag",type:"byte"},{prop:"hardware.spi.enabled",type:"byte"},[...Array(guiEasy.maxController())].map((e,t)=>({prop:`controllers[${t}].protocol`,type:"byte"})),[...Array(guiEasy.maxNotification())].map((e,t)=>({prop:`notifications[${t}].type`,type:"byte"})),[...Array(guiEasy.maxTasks())].map((e,t)=>({prop:`tasks[${t}].device`,type:"byte"})),[...Array(guiEasy.maxTasks())].map((e,t)=>({prop:`tasks[${t}].OLD_TaskDeviceID`,type:"int32"})),[...Array(guiEasy.maxTasks())].map((e,t)=>({prop:`tasks[${t}].gpio1`,type:"byte"})),[...Array(guiEasy.maxTasks())].map((e,t)=>({prop:`tasks[${t}].gpio2`,type:"byte"})),[...Array(guiEasy.maxTasks())].map((e,t)=>({prop:`tasks[${t}].gpio3`,type:"byte"})),[...Array(guiEasy.maxTasks())].map((e,t)=>({prop:`tasks[${t}].gpio4`,type:"byte"})),[...Array(guiEasy.maxTasks())].map((e,t)=>({prop:`tasks[${t}].pin1pullup`,type:"byte"})),[...Array(guiEasy.maxTasks())].map((e,t)=>({prop:`tasks[${t}].configs`,type:"ints",length:guiEasy.maxPluginConfigVar()})),[...Array(guiEasy.maxTasks())].map((e,t)=>({prop:`tasks[${t}].pin1inversed`,type:"byte"})),[...Array(guiEasy.maxTasks())].map((e,t)=>({prop:`tasks[${t}].configs_float`,type:"floats",length:guiEasy.maxPluginConfigFloatVar()})),[...Array(guiEasy.maxTasks())].map((e,t)=>({prop:`tasks[${t}].configs_long`,type:"longs",length:guiEasy.maxPluginConfigLongVar()})),[...Array(guiEasy.maxTasks())].map((e,t)=>({prop:`tasks[${t}].OLD_senddata`,type:"byte"})),[...Array(guiEasy.maxTasks())].map((e,t)=>({prop:`tasks[${t}].global_sync`,type:"byte"})),[...Array(guiEasy.maxTasks())].map((e,t)=>({prop:`tasks[${t}].data_feed`,type:"byte"})),[...Array(guiEasy.maxTasks())].map((e,t)=>({prop:`tasks[${t}].interval`,type:"int32"})),[...Array(guiEasy.maxTasks())].map((e,t)=>({prop:`tasks[${t}].enabled`,type:"byte"})),[...Array(guiEasy.maxController())].map((e,t)=>({prop:`controllers[${t}].enabled`,type:"byte"})),[...Array(guiEasy.maxNotification())].map((e,t)=>({prop:`notifications[${t}].enabled`,type:"byte"})),[...Array(guiEasy.maxTasks())].map((e,t)=>({prop:`tasks[${t}].TaskDeviceID`,type:"longs",length:guiEasy.maxController()})),[...Array(guiEasy.maxTasks())].map((e,t)=>({prop:`tasks[${t}].TaskDeviceSendData`,type:"bytes",length:guiEasy.maxController()})),{prop:"hardware.led.inverse",type:"byte"},{prop:"config.sleep.sleeponfailiure",type:"byte"},{prop:"UseValueLogger",type:"byte"},{prop:"ArduinoOTAEnable",type:"byte"},{prop:"config.dst.start",type:"int16"},{prop:"config.dst.end",type:"int16"},{prop:"UseRTOSMultitasking",type:"byte"},{prop:"hardware.reset.pin",type:"byte"},{prop:"config.log.syslog_facility",type:"byte"},{prop:"StructSize",type:"int32"},{prop:"config.mqtt.useunitname",type:"byte"},{prop:"config.location.lat",type:"float"},{prop:"config.location.long",type:"float"},{prop:"config._emptyBit",type:"bit"},{prop:"config.general.appendunitno",type:"bit"},{prop:"config.mqtt.changeclientidrecon",type:"bit"},{prop:"config.rules.oldengine",type:"bit"},{prop:"config.wifi.forcebgmode",type:"bit"},{prop:"config.wifi.restartconnlost",type:"bit"},{prop:"config.power.ecomode",type:"bit"},{prop:"config.wifi.nosleep",type:"bit"},{prop:"config.rules.tolerantargs",type:"bit"},{prop:"config.rules.SendToHTTPack",type:"bit"},{prop:"config.wifi.gratuitousARP",type:"bit"},{prop:"config._bits2",type:"byte"},{prop:"config._bits3",type:"byte"},{prop:"ResetFactoryDefaultPreference",type:"int32"}].flat(),guiEasy.configDat.taskSettings=[{prop:"index",type:"byte"},{prop:"name",type:"string",length:guiEasy.maxFormulaLength()+1},[...Array(guiEasy.maxValuesPerTask())].map((e,t)=>({prop:`values[${t}].formula`,type:"string",length:guiEasy.maxFormulaLength()+1})),[...Array(guiEasy.maxValuesPerTask())].map((e,t)=>({prop:`values[${t}].name`,type:"string",length:guiEasy.maxFormulaLength()+1})),{prop:"value_names",type:"string",length:guiEasy.maxFormulaLength()+1},{prop:"plugin_config_long",type:"longs",length:guiEasy.maxPluginExtraConfigVar()},{prop:"decimals",type:"bytes",length:guiEasy.maxValuesPerTask()},{prop:"plugin_config",type:"ints",length:guiEasy.maxPluginExtraConfigVar()}].flat(),guiEasy.configDat.controllerSettings=[{prop:"dns",type:"byte"},{prop:"IP",type:"bytes",length:4},{prop:"port",type:"int32"},{prop:"hostname",type:"string",length:65},{prop:"publish",type:"string",length:129},{prop:"subscribe",type:"string",length:129},{prop:"MQTT_lwt_topic",type:"string",length:129},{prop:"lwt_message_connect",type:"string",length:129},{prop:"lwt_message_disconnect",type:"string",length:129},{prop:"minimal_time_between",type:"int32"},{prop:"max_queue_depth",type:"int32"},{prop:"max_retry",type:"int32"},{prop:"delete_oldest",type:"byte"},{prop:"client_timeout",type:"int32"},{prop:"must_check_reply",type:"byte"}],guiEasy.configDat.notificationSettings=[{prop:"server",type:"string",length:65},{prop:"port",type:"int16"},{prop:"domain",type:"string",length:65},{prop:"sender",type:"string",length:65},{prop:"receiver",type:"string",length:65},{prop:"subject",type:"string",length:129},{prop:"body",type:"string",length:513},{prop:"pin1",type:"byte"},{prop:"pin2",type:"byte"},{prop:"user",type:"string",length:49},{prop:"pass",type:"string",length:33}],guiEasy.configDat.securitySettings=[{prop:"WifiSSID",type:"string",length:32},{prop:"WifiKey",type:"string",length:64},{prop:"WifiSSID2",type:"string",length:32},{prop:"WifiKey2",type:"string",length:64},{prop:"WifiAPKey",type:"string",length:64},[...Array(guiEasy.maxController())].map((e,t)=>({prop:`controllers[${t}].user`,type:"string",length:26})),[...Array(guiEasy.maxController())].map((e,t)=>({prop:`controllers[${t}].password`,type:"string",length:64})),{prop:"password",type:"string",length:26},{prop:"AllowedIPrangeLow",type:"bytes",length:4},{prop:"AllowedIPrangeHigh",type:"bytes",length:4},{prop:"IPblockLevel",type:"byte"},{prop:"ProgmemMd5",type:"bytes",length:16},{prop:"md5",type:"bytes",length:16}].flat();const set=(e,t,n)=>{let a=t.replace(/\[/g,".").replace(/]/g,"").split(".");if(a.length>1)for(let t=0;t<a.length-1;t++)e[a[t]]||(e[a[t]]={}),e=e[a[t]];e[a[a.length-1]]=n};class DataParser{constructor(e){this.view=new DataView(e),this.offset=0,this.bitbyte=0,this.bitbytepos=7}pad(e){for(;this.offset%e;)this.offset++}bit(e=!1,t=!1,n){if(7===this.bitbytepos&&(t?this.byte(e,t,this.bitbyte):(this.bitbyte=this.byte(),this.bitbytepos=0)),!t)return this.bitbyte>>this.bitbytepos++&1;this.bitbyte=n?this.bitbyte|1<<this.bitbytepos++:this.bitbyte&~(1<<this.bitbytepos++)}byte(e=!1,t=!1,n){this.pad(1);const a=`${t?"set":"get"}${e?"Int8":"Uint8"}`,s=this.view[a](this.offset,n);return this.offset+=1,s}int16(e=!1,t=!1,n){this.pad(2);let a=e?"Int16":"Uint16";const s=t?this.view[`set${a}`](this.offset,n,!0):this.view[`get${a}`](this.offset,!0);return this.offset+=2,s}int32(e=!1,t=!1,n){this.pad(4);let a=e?"Int32":"Uint32";const s=t?this.view[`set${a}`](this.offset,n,!0):this.view[`get${a}`](this.offset,!0);return this.offset+=4,s}float(e=!1,t=!1,n){this.pad(4);const a=t?this.view.setFloat32(this.offset,n,!0):this.view.getFloat32(this.offset,!0);return this.offset+=4,a}bytes(e,t=!1,n=!1,a){const s=[];for(let l=0;l<e;l++)s.push(this.byte(t,n,a?a[l]:null));return s}ints(e,t=!1,n=!1,a){const s=[];for(let l=0;l<e;l++)s.push(this.int16(t,n,a?a[l]:null));return s}longs(e,t=!1,n=!1,a){const s=[];for(let l=0;l<e;l++)s.push(this.int32(t,n,a?a[l]:null));return s}floats(e,t=!1,n=!1,a){const s=[];for(let t=0;t<e;t++)s.push(this.float(n,a?a[t]:null));return s}string(e,t=!1,n=!1,a){if(!n){const t=this.bytes(e);return String.fromCharCode.apply(null,t).replace(/\x00/g,"")}for(let t=0;t<e;++t){let e=a.charCodeAt(t)||"\0";this.byte(!1,!0,e)}}}const defaultSettings={preventDefaults:{escape:1,"ctrl+space":1,"ctrl+enter":1,"ctrl+keys":1,"ctrl+keyz":1,"alt+digit":1,"alt+arrows":1},areasMinimized:0,helpLinks:1,internetLostShow:1,clipboardSyntax:{list:["Default","GitHub","phpBB"],selection:0},css:{variables:[["main-bg-color","52,146,226","Background"],["main-inverted-color","47,66,82","Contrast"],["main-font-color","255,255,255","Font"],["main-info-color","255,143,18","Info"],["main-sunny-color","255,209,0","Sunny"],["main-warning-color","239,72,61","Warning"],["main-success-color","0,174,65","Success"],["button-radius-size",1,"Button Radius"],["max-width-page-size",1400,"Max Page Width (px)"],["scale-size",16,"Scale Value"],["row-size",20,"Row Height"],["overflow-tab-text-size",24,"Tab Text Overflow Value"],["state-of-navbar-toggle","fixed","Navbar Always Show|Navbar Scroll Away"],["default-font-family","'Segoe UI', Calibri, Arial","Font Family"],["custom-wallpaper-url","","Link To Wallpaper Image"]],size:{"button-radius-size":{min:1,max:100,step:1,placeholder:""},"max-width-page-size":{min:400,max:1e4,step:100,placeholder:"px"},"scale-size":{min:1,max:100,step:1,placeholder:""},"row-size":{min:1,max:100,step:1,placeholder:""},"overflow-tab-text-size":{min:1,max:100,step:1,placeholder:""}},toggle:{"state-of-navbar-toggle":{fixed:!0,absolute:!1}},family:{"default-font-family":[{value:"'Segoe UI', Calibri, Arial|ESP_EASY_CUSTOM_FONT",text:"Custom Google Font"},{value:"Arial, Helvetica, sans-serif",text:"Arial"},{value:"'Comic Sans MS', cursive, sans-serif",text:"Comic Sans"},{value:"Impact, Charcoal, sans-serif",text:"Impact"},{value:"'Segoe UI', Calibri, Arial",text:"Segoe UI"},{value:"'Times New Roman', Times, serif",text:"Times New Roman"},{value:"Verdana, Geneva, sans-serif",text:"Verdana"}]},url:{"custom-wallpaper-url":{placeholder:"png, jpg, gif, blank = none"}}}},helpEasy={copyToClipboard:function(e){const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);const n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n));let a={type:"clipboard",str:e};guiEasy.popper.tryCallEvent(a)},swapKey2Value:function(e){let t={};for(let n in e)t[e[n]]=n;return t},rgb2hex:function(e){e=e.split(",");let t="#";for(let n=0;n<e.length;n++)t+=("0"+parseInt(e[n]).toString(16)).substr(-2,2);return t},hex2rgb:function(e){return e.match(/[A-Za-z0-9]{2}/g).map(function(e){return parseInt(e,16)}).join(",")},cleanupWord:function(e,t=!1){return e=e.replace(/_/g," "),!0===t&&(e=e.replace(/,/g,"<br>")),e},capitalWord:function(e){let t=["ok","gpio","led","ssid","spi","wpa","ap","ip","esp","dns","id","i2c","sda","scl","ntp","dst","gui","json","mqtt","p2p","rssi","bssid","dhcp","cpu","ram","sta","gw","l/r","http","udp"],n=e.toLowerCase().split(" ");for(let e=0;e<n.length;e++)!0===helpEasy.findInArray(n[e],t)||"("===n[e].charAt(0)&&")"===n[e].charAt(n[e].length-1)?n[e]=n[e].toUpperCase():n[e]=n[e].charAt(0).toUpperCase()+n[e].substring(1);return n.join(" ")},epochToHHMMSS:function(e=Date.now()){let t=new Date(e);return("0"+t.getHours()).substr(-2,2)+":"+("0"+t.getMinutes()).substr(-2,2)+":"+("0"+t.getSeconds()).substr(-2,2)},pingIP:async function(e,t,n){for(let a=0;a<e.length;a++){let s=e[a].ip,l=Date.now(),i=await new WebSocket("ws://"+s);i.onerror=function(){i.close(),i=null,t(e,a,Date.now()-l)},setTimeout(function(){null!=i&&(i.close(),i=null,n(e,a))},2e3)}},handlePingResults:function(e,t,n=null){e[t].ping={},e[t].ping.result=null===n?-1:Math.round(n/3),e[t].ping.timestamp=Date.now()},bumpScheduler:function(e,t,n){let a=Date.now()+10,s=e[t].scheduler;for(let e=0;e<s.length;e++)s[e][1]===n&&(s.splice(e,1),s.push([a,n]),s.sort())},schedulerBump:function(e,t){let n=0;for(let a=0;a<e.length;a++)e[a][1]===t&&(n=a);e[n][0]=Date.now(),e.sort()},schedulerDelay:function(e,t,n){for(let a=0;a<e[t].scheduler.length;a++)e[t].scheduler[a][0]+=n;e[t].stats.error=0},getDataFromNode:function(e,t,n,a){e[t].scheduler.shift();let s=Date.now(),l="http://"+e[t].ip+"/"+n+"?callback="+s;fetch(l).then(e=>e.json()).then(l=>{e[t].live[n]=l,e[t].live[n].timestamp=Date.now(),void 0!==l.TTL||(e[t].live[n].TTL=a),"logjson"===n&&void 0!==l.Log.TTL&&(e[t].live[n].TTL=l.Log.TTL),e[t].live[n].TTL_fallback=a;let i=Date.now()+e[t].live[n].TTL;e[t].scheduler.push([i,n]),e[t].scheduler.sort(),e[t].stats.lastRun=Date.now(),e[t].stats[n].run=Date.now()-s,e[t].stats[n].timestamp=Date.now(),e[t].stats.error=0}).catch(a=>{console.error("Error fetching ("+n+"): ",a),e[t].stats.error++;let l=Date.now()+e[t].stats[n].TTL_fallback;e[t].scheduler.push([l,n]),e[t].scheduler.sort(),e[t].stats.lastRun=Date.now(),e[t].stats[n].run=Date.now()-s,e[t].stats[n].timestamp=Date.now(),guiEasy.fetchCount.error++}),guiEasy.fetchCount.current++,guiEasy.fetchCount.current===guiEasy.fetchCount.max&&(guiEasy.current.live=t)},fetchConfigDat:function(e,t,n=!0){let a=Date.now(),s=["config.dat","notification.dat","security.dat"],l="http://"+e[t].ip+"/"+s[0]+"?callback="+a,i="http://"+e[t].ip+"/"+s[1]+"?callback="+a,o="http://"+e[t].ip+"/"+s[2]+"?callback="+a;fetch(l).then(e=>e.arrayBuffer()).then(async s=>{let l=helpEasy.parseConfigDat,r=guiEasy.configDat;const d=l(s,r.configDatParseConfig);[...Array(guiEasy.maxTasks())].map((e,t)=>{e=helpEasy.parseConfigDat,d.tasks[t].settings=e(s,r.taskSettings,4096+2048*t),d.tasks[t].extra=e(s,r.taskSettings,5120+2048*t)}),[...Array(guiEasy.maxController())].map((e,t)=>{e=helpEasy.parseConfigDat,d.controllers[t].settings=e(s,r.controllerSettings,27648+2048*t),d.controllers[t].extra=e(s,r.controllerSettings,28672+2048*t)});const u=await fetch(i).then(e=>e.arrayBuffer());[...Array(guiEasy.maxNotification())].map((e,t)=>{e=helpEasy.parseConfigDat,d.notifications[t].settings=e(u,r.notificationSettings,1024*t)});const p=await fetch(o).then(e=>e.arrayBuffer());d.security=[...Array(1)].map((e,t)=>(0,helpEasy.parseConfigDat)(p,r.securitySettings,1024*t)),e[t].settings=Object.assign({},d),e[t].settings.timestamp=a,!0===n&&(e[t].settingsBrowser=Object.assign({},d),e[t].settingsBrowser.timestamp=a),guiEasy.current.config=t,e[t].stats.lastRun=Date.now(),void 0===e[t].stats.configDat&&(e[t].stats.configDat={}),e[t].stats.configDat.run=Date.now()-a,e[t].stats.configDat.timestamp=a})},parseConfigDat:function(e,t,n){const a=new DataParser(e);n&&(a.offset=n);const s={};return t.map(e=>{const t=e.length?e.length:e.signed;set(s,e.prop,a[e.type](t,e.signed))}),s},getCurrentIndex:function(e=""){let t=document.querySelectorAll("[data-current-index]")[0];return"online"===e?"true"===t.dataset.currentOnline:parseInt(t.dataset.currentIndex)},setCurrentIndex:function(e){let t=document.querySelectorAll("[data-current-index]")[0];t.dataset.currentIndex=e,t.dataset.currentOnline="true"},setCurrentOnline:function(e){let t=document.querySelectorAll("[data-current-index]")[0];t.dataset.currentOnline="online"===e?"true":"false"},scheduleFetch:function(e,t,n){if(void 0===e[t].stats&&(e[t].stats={error:0}),void 0===n){let n=guiEasy.endpoints.get;guiEasy.fetchCount={max:0,current:0,error:0},e[t].live={},e[t].history={},e[t].scheduler=[];for(let a=0;a<n.length;a++){let s=n[a].endpoint;if(void 0===n[a].ttl_fallback||n[a].ttl_fallback>guiEasy.endpoints.defaultTTL()){e[t].stats[s]={TTL_fallback:guiEasy.endpoints.defaultTTL(),run:-1,timestamp:Date.now()};let n=Date.now()+a*guiEasy.fetchSettings.intervalTimeKeeper+2e3;e[t].scheduler.push([n,s]),e[t].scheduler.sort()}else{e[t].stats[s]={TTL_fallback:n[a].ttl_fallback,run:-1,timestamp:Date.now()},e[t].scheduler.push([0,s]),e[t].scheduler.sort();let l=guiEasy.fetchCount.max*guiEasy.fetchSettings.intervalTimeKeeper;setTimeout(function(){helpEasy.getDataFromNode(e,t,s,n[a].ttl_fallback)},l),guiEasy.fetchCount.max++}}}else{let a=guiEasy.fetchSettings,s=e[t].stats[n].TTL_fallback;helpEasy.getDataFromNode(e,t,n,s);let l=Object.assign({},e[t].live[n]);l.fetched=Date.now(),void 0===e[t].history[n]&&(e[t].history[n]=[]),e[t].history[n].push(l),e[t].history[n].length>a.maxToKeep*a.maxToKeepMs-1&&e[t].history[n].shift()}},getGuiInFields:function(){void 0===guiEasy.jsonPathsIN&&(guiEasy.jsonPathsIN=[]);let e=guiEasy.jsonPathsIN,t=document.querySelectorAll("[data-json-path]");for(let n=0;n<t.length;n++){let a=t[n].dataset.jsonPath;!1===helpEasy.findInArray(a,e)&&e.push(a)}void 0===guiEasy.jsonPathsSettings&&(guiEasy.jsonPathsSettings=[]),e=guiEasy.jsonPathsSettings,t=document.querySelectorAll("[data-settings]");for(let n=0;n<t.length;n++){let a=t[n].dataset.settings;!1===helpEasy.findInArray(a,e)&&e.push(a)}return e},wifilist:function(e,t){let n='\n                <div data-modal-table="wifi" class="container modal-table vi">\n                <table>\n                <tr>\n                    <th class="header">SSID</th>\n                    <th class="header">BSSID</th>\n                    <th class="header">Ch</th>\n                    <th class="header">Signal</th>\n                </tr>\n         ',a="",s=[],l=[],i=[],o=e.sort(helpEasy.sortObjectArray("SSID"));for(let e=0;e<o.length;e++)if(a=o[e].SSID,s.push(o[e].BSSID),l.push(o[e].Channel),i.push(o[e].RSSI),e<o.length-1&&o[e].SSID===o[e+1].SSID);else{n+="<tr><td>"+a+"</td><td class='text-little'>";for(let e=0;e<s.length;e++)s[e]===guiEasy.nodes[helpEasy.getCurrentIndex()].live.json.WiFi.BSSID?n+="<div class='text-main-bg'>"+s[e]+"</div>":n+=s[e],e!==s.length-1?n+="<hr>":n+="</td><td class='text-little'>";for(let e=0;e<l.length;e++)n+=l[e],e!==l.length-1?n+="<hr>":n+="</td><td class='text-little'>";for(let e=0;e<i.length;e++)n+="<div class='got-tooltip hidden-tooltip'>",n+=helpEasy.rssiToSVG(i[e]),e!==i.length-1?n+="<div class='tooltip text-tiny'>"+i[e]+" dBm</div></div><hr>":n+="<div class='tooltip text-tiny'>"+i[e]+" dBm</div></div></td></tr>";a="",s=[],l=[],i=[]}n+="\n                </table>\n                <div class='text-tiny is-left'>"+e.length+" separate APs found</div>\n                <div class='text-tiny is-left'>Fetched: "+helpEasy.epochToHHMMSS(e.timestamp)+"</div>\n                <div class='text-tiny is-left'>Scheduled: "+helpEasy.epochToHHMMSS(e.timestamp+e.TTL)+"</div>\n                </div>\n                ",set(guiEasy.nodes[t],"modal.table.wifi",n)},filelist:function(e,t){let n=["notification.dat","config.dat","security.dat"],a=guiEasy.nodes[helpEasy.getCurrentIndex()].deleteFile;guiEasy.nodes[helpEasy.getCurrentIndex()].deleteFile=null;let s='\n                <div data-modal-table="files" class="container modal-table">\n                <table>\n                <tr>\n                    <th class="header">File Name</th>\n                    <th class="header">Size</th>\n                </tr>\n         ',l=e.sort(helpEasy.sortObjectArray("fileName"));for(let e=0;e<l.length;e++){let t="";a===l[e].fileName&&(t="class='is-inactive'"),s+="\n                    <tr "+t+' id="'+l[e].fileName+'">\n                    <td><button\n                        class="main-inverted"\n                        onclick="window.location=\'http://'+guiEasy.nodes[helpEasy.getCurrentIndex()].ip+"/"+l[e].fileName+"';\">"+l[e].fileName+"</button>",-1===n.indexOf(l[e].fileName)&&(s+='    \n                    <button\n                        class="main-warning file-action"\n                        data-click="delete-file"\n                        data-filename="'+l[e].fileName+'"">\n                        '+guiEasy.curly.icon(["trash"])+"\n                    </button>\n                   "),s+="\n                    </td>\n                    <td>\n                        "+Math.floor(l[e].size/1024*10)/10+"kB\n                    </td>\n                    </tr>\n            "}s+="</table></div>",set(guiEasy.nodes[t],"modal.table.files",s)},timingstatsList:function(e,t){let n=[],a=["plugin","controller","misc"];for(let t=0;t<a.length;t++){let s=e[a[t]];for(let e=0;e<s.length;e++){let l=s[e].function[0],i=Object.keys(l);for(let o=0;o<i.length;o++)n.push({sortValue:parseFloat(l[i[o]].avg),name:s[e].name,subKey:i[o],subLevels:i.length,type:a[t].slice(0,1).toUpperCase(),id:s[e].id,avg:l[i[o]].avg,count:l[i[o]].count,"call-per-sec":l[i[o]]["call-per-sec"],min:l[i[o]].min,max:l[i[o]].max,unit:l[i[o]].unit})}}let s=n.sort(helpEasy.sortObjectArray("sortValue")),l='\n                <div data-modal-table="timingstats_json" class="container modal-table">\n                <table class="is-left">\n                <tr>\n                    <th class="header">Type</th>\n                    <th class="header is-left">Timer</th>\n                    <th class="header">Process</th>\n                </tr>\n         ';for(let e=s.length-1;e>-1;e--){let t="";s[e].subLevels>1&&(t="<hr>"+s[e].subKey),l+='\n                    <tr class="text-little">\n                    <td>\n                        '+s[e].type+("000"+s[e].id).slice(-3)+'\n                    </td>\n                    <td class="got-tooltip hidden-tooltip">\n                        '+s[e].sortValue+'\n                        <div class="tooltip is-left">\n                            avg: '+s[e].avg+"<br>\n                            min: "+s[e].min+"<br>\n                            max: "+s[e].max+"<br>\n                            count: "+s[e].count+"<br>\n                            per sec: "+s[e]["call-per-sec"]+"\n                        </div>\n                    </td>\n                    <td>\n                        "+s[e].name+t+"\n                    </td>\n                    </tr>\n            "}l+="\n                </table>\n                <div class='text-tiny is-left'>Fetched: "+helpEasy.epochToHHMMSS(e.timestamp)+"</div>\n                <div class='text-tiny is-left'>Scheduled: "+helpEasy.epochToHHMMSS(e.timestamp+e.TTL)+"</div>\n                </div>\n                ",set(guiEasy.nodes[t],"modal.table.timingstats_json",l)},twoLevelJsonToList:function(e,t){let n=guiEasy.nodes[t].live[e],a="<div data-modal-table='"+e+"' class='container modal-table'>",s=Object.keys(n);for(let e=0;e<s.length;e++){let t=Object.keys(n[s[e]]);if(!(t.length<1)){a+="<div class='is-left'>"+helpEasy.capitalWord(helpEasy.cleanupWord(s[e]))+"</div>",a+="<table>";for(let l=0;l<t.length;l++){let i=helpEasy.cleanupWord(t[l]),o=helpEasy.cleanupWord(n[s[e]][t[l]],!0);"ThisIsTheDummyPlaceHolderForTheBinaryFilename64ByteLongFilenames"===o&&(o="..."),a+="<tr><td>"+helpEasy.capitalWord(i)+"</td><td>"+o+"</td></tr>"}a+="</table>"}}return a+="\n                <div class='text-tiny is-left'>Fetched: "+helpEasy.epochToHHMMSS(n.timestamp)+"</div>\n                <div class='text-tiny is-left'>Scheduled: "+helpEasy.epochToHHMMSS(n.timestamp+n.TTL)+"</div>\n                </div>\n                ",set(guiEasy.nodes[t],"modal.table."+e,a),a},guiUpdater:function(){let e=Date.now(),t=helpEasy.getCurrentIndex(),n=guiEasy.nodes[t];void 0===guiEasy.jsonPathsIN&&(guiEasy.jsonPathsIN=[]);let a=guiEasy.jsonPathsIN;for(let e=0;e<a.length;e++){let t=document.querySelectorAll("[data-json-path='"+a[e]+"']");for(let s=0;s<t.length;s++){let l=a[e].split("--");for(let e=0;e<l.length;e++)t[s].innerHTML!==helpEasy.getjsonPathData(l,n)&&(t[s].innerHTML=helpEasy.getjsonPathData(l,n))}}let s="live--json--System--Unit Name".split("--");document.title=helpEasy.getjsonPathData(s,n),s="live--json--WiFi--RSSI".split("--");let l=helpEasy.rssiToBars(helpEasy.getjsonPathData(s,n)),i=document.querySelectorAll("[name=unit-wifi-rssi-icon]");for(let e=0;e<i.length;e++)i[e].classList.remove("level-1","level-2","level-3","level-4","level-5"),i[e].classList.add(l);i=document.querySelectorAll("[data-json-path-gauge]");for(let e=0;e<i.length;e++)helpEasy.gaugeLevel(i[e],n);if(void 0!==n.live.wifiscanner_json)helpEasy.wifilist(n.live.wifiscanner_json,t);else{let e="<div data-modal-table='wifi' class='container modal-table'>"+guiEasy.fetchingWait+"</div>";set(guiEasy.nodes[t],"modal.table.wifi",e)}if(void 0!==n.live.filelist_json)helpEasy.filelist(n.live.filelist_json,t);else{let e="<div data-modal-table='files' class='container modal-table'>"+guiEasy.fetchingWait+"</div>";set(guiEasy.nodes[t],"modal.table.files",e)}if(void 0!==n.live.sysinfo_json)helpEasy.twoLevelJsonToList("sysinfo_json",t);else{let e="<div data-modal-table='sysinfo_json' class='container modal-table'>"+guiEasy.fetchingWait+"</div>";set(guiEasy.nodes[t],"modal.table.sysinfo_json",e)}if(void 0!==n.live.timingstats_json)helpEasy.timingstatsList(n.live.timingstats_json,t);else{let e="<div data-modal-table='timingstats_json' class='container modal-table'>"+guiEasy.fetchingWait+"</div>";set(guiEasy.nodes[t],"modal.table.timingstats_json",e)}i=document.querySelectorAll("[data-modal-table]");for(let e=0;e<i.length;e++){let n=i[e].dataset.modalTable,a=guiEasy.nodes[t].modal.table[n],s=helpEasy.parseHTMLstring(a,"query",'[data-modal-table="'+n+'"]');i[e].innerHTML!==s&&(i[e].innerHTML=s)}let o=guiEasy.maxTasks(),r=guiEasy.maxValuesPerTask();n=guiEasy.nodes[t].live.json.Sensors;let d=[...Array(o)].map(e=>Array(r).fill("")),u=[...Array(o)].fill("");for(let e=0;e<n.length;e++){let t=n[e].TaskValues,a=(n[e].DataAcquisition,n[e].TaskNumber),s=n[e].TaskName,l=n[e].TaskEnabled,i=n[e].Type;("000"+n[e].TaskDeviceNumber).slice(-3);u[a-1]={plugin:i,port:"",controller:"",gpio:"",enabled:l,name:s};for(let e=0;e<t.length;e++){let n=t[e].Name,s=t[e].Value,l=t[e].ValueNumber,i=t[e].NrDecimals;d[a-1][l-1]={name:n,value:s.toFixed(i)}}}for(let e=0;e<o;e++){if(void 0===u[e].name){helpEasy.clearTaskValues(e);continue}let t="task-"+(e+1)+"-",n=["plugin","port","controller","gpio"];for(let a=0;a<n.length;a++){let s=n[a];""!==u[e][s]&&(document.getElementById(t+s).innerText!==u[e][s]&&(document.getElementById(t+s).innerText=u[e][s]),document.getElementById(t+s+"-row").classList.remove("is-hidden"))}document.getElementById(t+"name").innerText!==u[e].name&&(document.getElementById(t+"name").innerText=u[e].name);for(let n=0;n<r;n++){if(""===d[e][n]||""===d[e][n].name){helpEasy.clearTaskValues(e,n);continue}let a=t+"value-"+(n+1)+"-";document.getElementById(a+"row").classList.remove("is-hidden"),"true"===u[e].enabled?document.getElementById(a+"row").classList.remove("not-enabled"):document.getElementById(a+"row").classList.add("not-enabled"),n>0&&document.getElementById(a+"hr").classList.remove("is-hidden"),document.getElementById(a+"name").innerText!==d[e][n].name&&(document.getElementById(a+"name").innerText=d[e][n].name),document.getElementById(a+"value").innerText!==d[e][n].value&&(document.getElementById(a+"value").innerText=d[e][n].value)}}guiEasy.current.gui=t,void 0===guiEasy.nodes[t].stats.gui&&(guiEasy.nodes[t].stats.gui={}),guiEasy.nodes[t].stats.gui.run=Date.now()-e,guiEasy.nodes[t].stats.gui.timestamp=e},clearTaskValues:function(e,t=null){let n,a,s=guiEasy.maxValuesPerTask(),l=[],i=[];if(null!==t){for(let o=1;o<=s;o++)(n=document.querySelectorAll("[id='task-"+(e+1)+"-value-"+(t+o)+"-name']")).length>0&&l.push([].slice.call(n)),(n=document.querySelectorAll("[id='task-"+(e+1)+"-value-"+(t+o)+"-value']")).length>0&&l.push([].slice.call(n)),null!==(a=document.getElementById("task-"+(e+1)+"-value-"+(t+o)+"-hr"))&&i.push(a);l.length>0&&l.map(e=>e.map(e=>e.innerHTML="")),i.length>0&&i.map(e=>e.classList.add("is-hidden"))}else(n=document.querySelectorAll("[data-clear-task='"+(e+1)+"']")).length>0&&(l=[].slice.call(n)),l.length>0&&l.map(e=>e.innerHTML=""),(a=document.querySelectorAll("[data-clear-hr='"+(e+1)+"']")).length>0&&(i=[].slice.call(a)),i.length>0&&i.map(e=>e.classList.add("is-hidden")),(a=document.querySelectorAll("[data-hide-row='"+(e+1)+"']")).length>0&&(i=[].slice.call(a)),i.length>0&&i.map(e=>e.classList.add("is-hidden"))},uploadBinaryAsFile:function(e,t,n){let a,s,l,i=document.getElementById("label-"+n),o=i.innerText;if("generic"===e&&(a=35,l="/upload",s=guiEasy.nodes[helpEasy.getCurrentIndex()].live.sysinfo_json.storage.spiffs_free),"firmware"===e&&(helpEasy.schedulerDelay(guiEasy.nodes,helpEasy.getCurrentIndex(),6e4),a=25,l="/update",s=guiEasy.nodes[helpEasy.getCurrentIndex()].live.sysinfo_json.storage.sketch_free),(s*=1e3)<t.size)i.innerText=helpEasy.capitalWord("file size too big!"),helpEasy.blinkElement(i.id,"warning"),setTimeout(function(){helpEasy.blinkElement(i.id,"warning")},500),setTimeout(function(){i.innerText=o},750);else{i.innerText=t.name;let n=100,s=t.size/a/n,r=0,d=setInterval(function(){r++;let e=Math.floor(r/s*100);e>100&&(e=100),i.innerText=t.name+" ("+e+"%)"},n),u=new FormData;u.append("file",t),u.append("name",e),u.append("enctype","multipart/form-data");let p="http://"+guiEasy.nodes[helpEasy.getCurrentIndex()].ip+l;fetch(p,{method:"POST",body:u}).then(e=>e.text()).then(n=>{if(clearInterval(d),i.innerText=t.name+" (100%)",helpEasy.addToLogDOM(n,3),setTimeout(function(){helpEasy.blinkElement(i.id,"success")},500),"generic"===e&&setTimeout(function(){helpEasy.schedulerBump(guiEasy.nodes[helpEasy.getCurrentIndex()].scheduler,"sysinfo_json"),helpEasy.schedulerBump(guiEasy.nodes[helpEasy.getCurrentIndex()].scheduler,"filelist_json"),i.innerText=o,helpEasy.updateIndicator()},900),"firmware"===e){helpEasy.schedulerBump(guiEasy.nodes[helpEasy.getCurrentIndex()].scheduler,"sysinfo_json");let e=30,t=setInterval(function(){i.innerText="Will reboot in "+e,--e<1&&(clearInterval(t),location.reload())},1e3)}})}},updateIndicator:async function(){setTimeout(function(){let e=guiEasy.nodes[helpEasy.getCurrentIndex()].live.sysinfo_json.storage,t=Math.floor(parseInt(e.spiffs_free)/parseInt(e.spiffs_size)*100),n=document.getElementById("modal-input-upload-storage-free"),a=document.getElementById("modal-input-upload-storage-occupied");n.style.width=t+"%",n.innerText=parseInt(e.spiffs_free)+"kB",a.style.width=100-t+"%",a.innerText=(parseInt(e.spiffs_size)-parseInt(e.spiffs_free)).toString()+"kB"},5e3)},parseHTMLstring:function(e,t,n){let a=document.createElement("html");a.innerHTML=e;let s="";return"tag"===t&&(s=a.getElementsByTagName(n)[0].innerHTML.toString()),"name"===t&&(s=a.getElementsByName(n)[0].innerHTML.toString()),"class"===t&&(s=a.getElementsByClassName(n)[0].innerHTML.toString()),"id"===t&&(s=a.getElementById(n).innerHTML.toString()),"query"===t&&(s=a.querySelectorAll(n)[0].innerHTML.toString()),a.remove(),s},guiUpdaterSettings:function(e){let t=guiEasy.nodes[helpEasy.getCurrentIndex()],n=defaultSettings,a=helpEasy.getGuiInFields();e=void 0===e?"settings":"settingsBrowser";for(let s=0;s<a.length;s++){let l=document.querySelectorAll("[data-settings='"+a[s]+"']");for(let i=0;i<l.length;i++){let o=t,r=(e+"--"+a[s]).split("--");"defaultSettings"===a[s].split("--")[0]&&(r=a[s].split("--").slice(1),o=n);for(let e=0;e<r.length;e++){let e=l[i].dataset;if("string"===e.type&&(l[i].value=helpEasy.getjsonPathData(r,o),"true"===e.settingsIp&&(l[i].value=helpEasy.getjsonPathData(r,o).join(".")),e.valueIfBlank===l[i].value&&(l[i].value="")),"dropdown"===e.type)if("true"===e.list2value){let e=[];for(let t=0;t<l[i].options.length;t++)e.push(parseInt(l[i].options[t].value));l[i].options.selectedIndex=e.indexOf(helpEasy.getjsonPathData(r,o))}else 255===helpEasy.getjsonPathData(r,o)?l[i].options.selectedIndex=0:l[i].options.selectedIndex=helpEasy.getjsonPathData(r,o)-parseInt(l[i].dataset.optionListOffset);if("password"===e.type&&(l[i].value=helpEasy.getjsonPathData(r,o),e.valueIfBlank===l[i].value&&(l[i].value="")),"number"===e.type&&(l[i].value=helpEasy.getjsonPathData(r,o)),"toggle"===e.type){l[i].checked="true"===e["change-"+helpEasy.getjsonPathData(r,o)];let t=document.getElementById("label-"+e.id);""===e.gotTooltip?t.innerText=helpEasy.capitalWord(e[l[i].checked+"Text"]):t.innerHTML="<div class="+e.gotTooltip+">"+helpEasy.capitalWord(e[l[i].checked+"Text"])+e.tooltip+"</div>"}}}}},gaugeLevel:function(e,t){let n,a,s=e.parentNode,l=helpEasy.getjsonPathData(e.dataset.jsonPathGauge.split("--"),t),i=parseInt(e.dataset.max),o=parseInt(e.dataset.min),r="";i>o?((a=(l-o)/(i-o))>.6&&(r="main-info"),a>.8&&(r="main-warning"),a<.05&&(r="main-success")):((a=(l-i)/(o-i))<.4&&(r="main-info"),a<1-.8&&(r="main-warning"),a>.95&&(r="main-success")),(n=574.5*(1-a))>574.5&&(n=574.5),n<0&&(n=0),s.classList.remove("main-info","main-warning"),""!==r&&s.classList.add(r),e.style="stroke-dashoffset:"+n+";"},rssiToBars:function(e){return e>=-55?"level-5":e>=-66?"level-4":e>=-77?"level-3":e>=-88?"level-2":"level-1"},rssiToSVG:function(e){let t=helpEasy.rssiToBars(e);return guiEasy.curly.icon(["wifi",t])},getjsonPathData:function(e,t){return 1===e.length?t[e[0]]:2===e.length?t[e[0]][e[1]]:3===e.length?t[e[0]][e[1]][e[2]]:4===e.length?t[e[0]][e[1]][e[2]][e[3]]:5===e.length?t[e[0]][e[1]][e[2]][e[3]][e[4]]:6===e.length?t[e[0]][e[1]][e[2]][e[3]][e[4]][e[5]]:7===e.length?t[e[0]][e[1]][e[2]][e[3]][e[4]][e[5]][e[6]]:8===e.length?t[e[0]][e[1]][e[2]][e[3]][e[4]][e[5]][e[6]][e[7]]:void 0},sortObjectArray:e=>(t,n)=>t[e]===n[e]?0:t[e]<n[e]?-1:1,addToLogDOM:function(e,t){if("pageSize"===e){e=document.documentElement.innerHTML.toString().split("").length,0===guiEasy.guiStats.pageSize&&(guiEasy.guiStats.startSize=e),guiEasy.guiStats.pageSize+=e,e="total page size: "+Math.round(e/1024)+"kB"}guiEasy.logLevel>=t&&console.log(e)},numberOfFound:function(e,t){return((e||"").match(t)||[]).length},findInArray:function(e,t){return t.indexOf(e)>-1},listOfProcesses:function(e,t,n,a){let s=document.getElementById("modal-loading-log"),l=document.getElementById("modal-loading-progress");document.getElementById("fallback-loading-animation").classList.add("is-hidden"),s.innerHTML+="<div class='"+a+"' id='log-entry-"+e+"' data-timestart='"+n+"'>"+t+"</div>",l.max=guiEasy[a].length,void 0===guiEasy.guiStats[a]&&(guiEasy.guiStats[a]={}),guiEasy.guiStats[a][e]="running"},processDone:function(e,t){let n=document.getElementById("modal-loading-progress"),a=document.getElementById("log-entry-"+e),s=Date.now()-a.dataset.timestart;if(guiEasy.guiStats.bootTime+=s,a.innerHTML+=" ("+s+"ms)",a.classList.add("loading-is-done"),"startup"===t){if(n.max===n.value){let e=document.getElementById("modal-container");document.getElementById("modal-loading-screen").classList.add("is-hidden"),e.classList.add("is-hidden"),e.classList.remove("is-black"),helpEasy.addToLogDOM("total boot time: "+guiEasy.guiStats.bootTime+"ms",1)}n.value++}guiEasy.guiStats[t][e]="done"},internet:function(){let e=!1;return!0===window.navigator.onLine&&(e=!0),e},welcomePhrase:function(){let e=(new Date).getHours();return e>17?"Good evening!":e>11?"Good afternoon!":e>5?"Good morning!":"Hi!"},urlParams:function(){let e={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,n,a){e[n.toLowerCase()]=a.toLowerCase()}),e},locationByIP:async function(){let e="https://ipapi.co/json?at="+Date.now()+"&gui="+guiEasy.geekNameFull(),t=await fetch(e);return await t.json()},blinkElement:function(e,t){let n=document.getElementById(e);n.classList.add("main-"+t),setTimeout(function(){n.classList.remove("main-"+t)},250)},dashGroupContainerOpen:function(e=""){return""===e?"<div class='group-container'>":"<div class='group-container'>"+helpEasy.capitalWord(e)+"<hr>"},dashBoxContainerOpen:function(){return"<div class='box-container'>"},dashContainerClose:function(){return"</div>"},addToolsButton:function(e){let t="",n=e.type,a="";return void 0!==e.color&&(a=" main-"+e.color),"command"===n&&(t+="\n                <div class='dash-box'>\n                    <button class='dash-button"+a+"' data-click=\""+e.buttonAction+'" data-args="'+JSON.stringify(e).replace(/"/g,"'")+'">{{ICON-'+e.icon.toUpperCase()+'}}</button>\n                    <div class="dash-text text-little">'+helpEasy.capitalWord(e.text)+"</div>\n                </div>\n            "),"info"===n&&(t+="\n                <div class='dash-box'>\n                    <button data-click=\""+e.buttonAction+'">'+helpEasy.capitalWord(e.button)+'</button>\n                    <div class="dash-text text-little">'+helpEasy.capitalWord(e.text)+"</div>\n                </div>\n            "),"scanner"===n&&(t+="\n                <div class='dash-box'>\n                    <button class='main-inverted' data-click=\""+e.buttonAction+'">'+helpEasy.capitalWord(e.button)+'</button>\n                    <div class="dash-text text-little">'+helpEasy.capitalWord(e.text)+"</div>\n                </div>\n            "),"system"===n&&(t+="\n                <div class='dash-box'>\n                    <button class='main-font' data-click=\""+e.buttonAction+'">'+helpEasy.capitalWord(e.button)+'</button>\n                    <div class="dash-text text-little">'+helpEasy.capitalWord(e.text)+"</div>\n                </div>\n            "),t},addInput:function(e){let t=e.type,n="";void 0!==e.disabled&&!0===e.disabled&&(n="disabled");let a=e.title.split(" ").join("-"),s="generic-input-",l="";!0===e.toSettings&&(s="settings-input-",l+='data-settings="'+e.settingsId+'"'),void 0!==e.settingsIP&&(l+='data-settings-ip="'+e.settingsIP+'"'),void 0!==e.settingsRegEx&&(l+='data-settings-regex="'+e.settingsRegEx+'"'),void 0!==e.valueIfBlank&&(l+='data-value-if-blank="'+e.valueIfBlank+'"'),void 0!==e.allowedBlank&&(l+='data-allowed-blank="'+e.allowedBlank+'"'),void 0!==e.optionListOffset&&(l+='data-option-list-offset="'+e.optionListOffset+'"'),void 0!==e.list2value&&(l+='data-list2value="'+e.list2value+'"'),a=s+a;let i="",o="";void 0!==e.tooltip&&(i="<div class='tooltip'>"+e.tooltip+"</div>",o="got-tooltip");let r="<div class='row'>";if("string"===t&&(r+="<span class='"+o+"'>"+helpEasy.capitalWord(e.title)+i+"</span>",r+="\n                <input  spellcheck='false'\n                        type='text'\n                        id='"+a+"'\n                        data-id='"+a+"'\n                        data-type=\"string\"\n                        data-alt='"+e.alt+"'\n                        data-settings=\""+e.settingsId+"\"\n                        placeholder='"+e.placeholder+"'\n                        value='"+e.default+"'\n                        "+l+'\n                        data-input-string="'+e.settingsMaxLength+'">\n                '),"password"===t&&(r+="<span class='"+o+"'>"+helpEasy.capitalWord(e.title)+i+"</span>",r+="\n                <input  spellcheck='false'\n                        type='password'\n                        id='"+a+"'\n                        data-id=\""+a+'"\n                        data-type="password"\n                        data-alt=\''+e.alt+"'\n                        data-settings=\""+e.settingsId+"\"\n                        placeholder='"+e.placeholder+"'\n                        "+l+'\n                        data-input-password="'+e.settingsMaxLength+'">\n                '),"dropdown"===t){r+="<span class='"+o+"'>"+helpEasy.capitalWord(e.title)+i+"</span>",r+='    \n                    <select\n                        id="'+a+'"\n                        data-id="'+a+'"\n                        data-type="dropdown"\n                        data-alt="'+e.alt+'"\n                        data-settings="'+e.settingsId+'"\n                        data-default-index="'+e.default+'"\n                        '+n+"\n                        "+l+">\n                ";let t=e.optionList;for(let n=0;n<t.length;n++){let a=t[n].value,s=t[n].text,l="";void 0!==t[n].disabled&&!0===t[n].disabled&&(l="disabled");let i="";void 0!==t[n].note&&(i=" "+t[n].note),n===e.default?r+="<option value='"+a+"' selected='selected'>"+s+i+"</option>":r+="<option value='"+a+"' "+l+">"+s+i+"</option>"}r+='</select>\n                    <label\n                        class="select"\n                        for="'+a+'"\n                    ></label>\n                '}if("toggle"===t&&(r+='\n                <input type="checkbox"\n                id="'+a+'"\n                data-id="'+a+'"\n                data-type="toggle"\n                data-alt="'+e.alt+'"\n                data-settings="'+e.settingsId+'"\n                data-true-text="'+e.trueText+'"\n                data-false-text="'+e.falseText+'"\n                data-default-value="'+e.default+'"\n                data-default-text="'+e[e.default+"Text"]+'"\n                data-change="'+s+'update"\n                data-change-'+e.settingsTrue+'="true"\n                data-change-'+e.settingsFalse+'="false"\n                data-tooltip="'+i+'"\n                data-got-tooltip="'+o+"\"\n                data-input-toggle=\"{'true':"+e.settingsTrue+", 'false': "+e.settingsFalse+'}"\n                '+l+'>\n                <label  class="checkbox"\n                        id="label-'+a+'"\n                        for="'+a+'"\n                        tabindex="0"><div class="'+o+'">'+helpEasy.capitalWord(e[e.default+"Text"])+i+"</div>\n                </label>\n            "),"number"===t){let t="";""!==e.placeholder&&(t=" ["+e.placeholder+"]"),r+='\n                <input  type="number"\n                id="'+a+'"\n                min="'+e.min+'"\n                max="'+e.max+'"\n                step="'+e.step+'"\n                data-alt="'+e.alt+'"\n                placeholder="'+e.placeholder+'"\n                data-default-value="'+e.default+'"\n                data-change="'+s+'update"\n                data-id="'+a+'"\n                data-type="number"\n                data-input-number="{\'max\': '+e.max+", 'min': "+e.min+'}"\n                value="'+e.default+'"\n                '+l+'>\n                <label class="number '+o+'"\n                       for="'+a+'"\n                       id="label-'+a+'">'+helpEasy.capitalWord(e.title)+t+i+"\n                </label>\n            "}return r+="</div>"},addLine:function(){return"<hr>"},openArea:function(e){let t=e.replace(" ","-")+"-area";return defaultSettings.areasMinimized?'\n            <div class="area hide-contents" id="'+t+'">\n                <div class="area-title">'+helpEasy.capitalWord(e)+'<button id="button-min-'+t+'" data-click="area-min-'+t+'" class="is-hidden">{{ICON-MINIMIZE}}</button><button id="button-max-'+t+'" data-click="area-max-'+t+'">{{ICON-MAXIMIZE}}</button></div>\n            ':'\n            <div class="area" id="'+t+'">\n                <div class="area-title">'+helpEasy.capitalWord(e)+'<button id="button-min-'+t+'" data-click="area-min-'+t+'">{{ICON-MINIMIZE}}</button><button id="button-max-'+t+'" data-click="area-max-'+t+'" class="is-hidden">{{ICON-MAXIMIZE}}</button></div>\n            '},closeArea:function(){return"</div>"},openColumn:function(e){return void 0===e?"<div class='column'>":"data"===e.split("-")[0]?"<div class='column' "+e+"=''>":"<div class='column' id='"+e+"'>"},closeColumn:function(){return"</div>"},checkIfIP:function(e){return/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e)},screenshot:function(e){if(helpEasy.internet()){let e="screenshot-script",t={type:"wave",text:guiEasy.curly.icon(["screenshot"]),color:"inverted"},n=guiEasy.current.backgroundColor;void 0===n&&(n="#3492e2");let a=guiEasy.current.invertedColor;void 0===a&&(a="#2F4252");let s=helpEasy.capitalWord(guiEasy.current.tab.id.split("-")[0]),l=guiEasy.current.modal;void 0===l?l=guiEasy.current.tab:(n=a,s=s+"-"+document.getElementById("modal-title-text").innerText.replace(/ /g,"_")),s=guiEasy.nodes[helpEasy.getCurrentIndex()].live.json.System["Unit Name"]+"-"+s,guiEasy.popper.tryCallEvent(t);let i=document.createElement("script");i.id=e,i.onload=function(){html2canvas(l,{backgroundColor:n}).then(function(e){helpEasy.binaryDataToFile(e,"image/png",s+".png")})},i.src="https://github.com/niklasvh/html2canvas/releases/download/v1.0.0-rc.5/html2canvas.min.js",document.head.appendChild(i)}else{let e={type:"wave",text:"No internet!",color:"warning"};guiEasy.popper.tryCallEvent(e)}},binaryDataToFile:function(e,t,n){let a="temp-binary-blob-element",s=document.getElementById(a);null!==s&&s.remove();let l=document.createElement("a");l.id=a,document.body.appendChild(l),l.style.display="none",l.href=e.toDataURL(t),l.download=n,l.click()},favicon:function(e){let t=document.createElement("canvas");t.width=113,t.height=113;let n=t.getContext("2d");n.lineWidth=8,n.fillStyle=e.inverted,n.beginPath(),n.moveTo(0,15),n.lineTo(0,98),n.arc(15,98,15,Math.PI,.5*Math.PI,!0),n.lineTo(15,113),n.lineTo(98,113),n.arc(98,98,15,Math.PI,1.5*Math.PI,!0),n.lineTo(113,98),n.lineTo(113,15),n.arc(98,15,15,0,1.5*Math.PI,!0),n.lineTo(98,0),n.lineTo(15,0),n.arc(15,15,15,0,.5*Math.PI,!0),n.lineTo(0,15),n.closePath(),n.fill(),n.fillStyle=e.font,n.beginPath(),n.arc(90,90,10,0,2*Math.PI),n.closePath(),n.fill(),n.lineCap="round",n.strokeStyle=e.warning,n.beginPath(),n.moveTo(42,99),n.lineTo(99,42),n.closePath(),n.stroke(),n.strokeStyle=e.info,n.beginPath(),n.moveTo(14,99),n.lineTo(99,14),n.closePath(),n.stroke(),n.strokeStyle=e.sunny,n.beginPath(),n.moveTo(14,70),n.lineTo(70,14),n.closePath(),n.stroke(),n.strokeStyle=e.success,n.beginPath(),n.moveTo(14,42),n.lineTo(42,14),n.closePath(),n.stroke();let a=document.getElementById("favicon");null!==a&&a.remove(),(a=document.createElement("link")).id="favicon",a.type="image/x-icon",a.rel="shortcut icon",a.href=t.toDataURL("image/x-icon"),document.head.appendChild(a)}};function initiate(){for(let e=0;e<guiEasy.startup.length;e++){let t=guiEasy.startup[e].id,n=guiEasy.startup[e].logText,a="startup",s=Date.now();helpEasy.listOfProcesses(t,n,s,a),guiEasy[t](t,a)}for(let e=0;e<guiEasy.silentStartup.length;e++){let t=guiEasy.silentStartup[e].id,n=guiEasy.silentStartup[e].logText,a="silentStartup",s=Date.now();helpEasy.listOfProcesses(t,n,s,a),guiEasy[t](t,a)}}guiEasy.curly=function(e,t){guiEasy.syntax.curlyLC++;const n=/(?:{{)([^}]{1,64})(?:}})/g;let a,s=document.documentElement.innerHTML.toString(),l=[];for(;a=n.exec(s);)l.push([a[1],a[0]]);for(let e=0;e<l.length;e++){let t=guiEasy.curly.compileArgs(l[e][0].split("-")),n=l[e][1].replace(/}/g,"\\}");n=n.replace(/{/g,"\\{"),n=RegExp(n),l[e]=[t[0],n,t[1],t[2]]}for(let a=0;a<l.length;a++){let s=l[a][0],i=document.documentElement.innerHTML.toString(),o=l[a][1],r=(l[a][2],l[a][3]),d="",u=helpEasy.findInArray(s,guiEasy.syntax.curly);if(helpEasy.addToLogDOM("x: '"+s+"' args: '"+r+"' found: "+u,3),!0===u&&(d=guiEasy.curly[s](r)),void 0===d&&(d=""),helpEasy.addToLogDOM("pageSize",1),helpEasy.addToLogDOM("replaced: "+o+"with: "+d,2),document.documentElement.innerHTML=i.replace(o,d),helpEasy.numberOfFound(d.toString(),n)>0)return guiEasy.curly(e,t)}helpEasy.processDone(e,t),helpEasy.addToLogDOM(e+" loop count: "+guiEasy.syntax.curlyLC,1)},guiEasy.curly.compileArgs=function(e){let t=[],n=[];t.push(e[0].toLowerCase()),t.push(e.length-1);for(let t=1;t<e.length;t++)n.push(e[t].toLowerCase());return t.push(n),t},guiEasy.curly.version=function(e){if("gui"===e[0])return"text"===e[1]?guiEasy.geekNameFull():"<div data-gui-easy='version'>"+guiEasy.geekNameFull()+"</div>"},guiEasy.curly.unitname=function(){return"<div data-json-path='live--json--System--Unit Name'></div>"},guiEasy.curly.modal=function(e){let t=e[0],n="",a="";return"message"!==t?guiEasy.curly[t]:'\n        <div class="'+t+' main-inverted" id="modal">\n            <div class="area" id="modal-click-area">\n                <div class="area-title" id="modal-title">\n                    <div id="modal-title-text"></div>\n                    <button \n                        class="is-hidden main-inverted left"\n                        id="modal-title-button-copy"\n                    >{{ICON-COPY}}</button>\n                    <button \n                        class="is-hidden main-inverted left"\n                        id="modal-title-button-location"\n                    >{{ICON-LOCATION}}</button>\n                    <button \n                        class="is-hidden main-bg"\n                        id="modal-title-button-close"\n                    >{{ICON-CLOSE}}</button>\n                </div>\n                <div class="column" id="modal-view">\n                    <div class="row" id="modal-info">\n                        \n                    </div>\n                    <div class="row" id="modal-table">\n                        \n                    </div>\n                    <div class="row" id="modal-setup">\n                        \n                    </div>\n                    <div class="row" id="modal-input">\n                        '+(n="{{INPUT-ALL}}")+'\n                    </div>\n                    <div class="row" id="modal-buttons">\n                        '+(a="{{BUTTON-ALL}}")+"\n                    </div>\n                </div>\n            </div>\n        </div>\n     "},guiEasy.curly.wave=function(){return'\n        <div class="wave-background is-inactive" id="wave">\n            <div class="wave-text" id="wave-text"></div>\n        </div>\n     '},guiEasy.curly.input=function(e){let t=e[0],n="";return"string"!==t&&"all"!==t||(n+="<input class='is-hidden' type='text' id='modal-input-string'>"),"textarea"!==t&&"all"!==t||(n+="\n            <textarea\n                class='is-hidden'\n                id='modal-input-textarea'\n                spellcheck='false'\n                wrap='soft'\n            ></textarea>\n        "),"upload"!==t&&"all"!==t||(n+="\n            <div\n                class=\"text-mini\"\n                id=\"modal-input-upload-storage-occupied\"\n            ></div>\n            <div\n                class=\"text-mini\"\n                id=\"modal-input-upload-storage-free\"\n            ></div>\n            <input\n                class='is-hidden'\n                type='file'\n                id='modal-input-upload-file'\n            >\n            <label\n                tabindex='0'\n                id='label-modal-input-upload-file'\n                for='modal-input-upload-file'\n                class='is-hidden file modal-upload is-dashed'\n            ></label>\n        "),n},guiEasy.curly.button=function(e){let t=e[0],n="";return"ok"!==t&&"all"!==t||(n+="<button class='is-hidden main-success' id='modal-button-ok'>Ok</button>"),"cancel"!==t&&"all"!==t||(n+="<button class='is-hidden main-info' id='modal-button-cancel'>Cancel</button>"),"rescan"!==t&&"all"!==t||(n+="<button class='is-hidden' id='modal-button-rescan'>Rescan</button>"),"custom"!==t&&"all"!==t||(n+="<button class='is-hidden' id='modal-button-custom'></button>"),n},guiEasy.curly.goto=function(e){let t=e[0],n=e[1];if("tab"===t)return"<button class='main-inverted' data-click='"+t+"-"+n+"'>Continue to "+helpEasy.capitalWord(n)+"</button>"},guiEasy.curly.menu=function(e){if("action"===e[0]){let e=[{name:"save",color:"success",what:"settings-save"},{name:"cancel",color:"sunny",what:"settings-cancel"},{name:"swarm",color:"inverted",what:"menu-nodelist"},{name:"ghost",color:"bg",what:"ghost-page"},{name:"screenshot",color:"bg-inverted",what:"screenshot-page"}],t="";for(let n=0;n<e.length;n++)t+='\n                <button tabindex="-1" class="menu-'+e[n].name+" main-"+e[n].color+' got-tooltip" data-click="'+e[n].what+"-"+e[n].color+'">\n                {{ICON-'+e[n].name.toUpperCase()+'}}\n                    <div class="tooltip"><div class="text">'+helpEasy.capitalWord(e[n].name)+"</div></div>\n                </button>\n            ";return'\n        <div class="menu">\n            <div class="menu-button">\n                <button\n                    class="icon-button is-inactive menu-action got-badge"\n                    data-focus="menu-action-close"\n                    data-click="menu-action-toggle"\n                    id="menu-button"\n                    data-badge-value=""\n                >{{ICON-ACTION}}</button>\n            </div>\n            <div class="icon-button closed" id="menu-button-list">'+t+"</div>\n        </div>\n        "}},guiEasy.curly.notifier=function(e){if("top"===e[0])return'\n            <div class="top-notifier" id="top-notifier"></div>\n        '},guiEasy.curly.notificationtable=function(){let e='\n                <table id="notification-table">\n                <tr>\n                    <th class="notification-table header">Controller</th>\n                    <th class="notification-table header">Service</th>\n                    <th class="notification-table header">Info</th>\n                </tr>\n         ';for(let t=0;t<3;t++)e+='\n                <tr>\n                    <td class="notification-table controller">\n                        <button class="main-font" data-click="controller-edit-'+(t+1)+'">'+(t+1)+'</button>\n                    </td>\n                    <td class="notification-table service">\n                        \n                    </td>\n                    <td class="notification-table info">'+guiEasy.curly.notificationtable.infoCell("host",t)+"<hr>"+guiEasy.curly.notificationtable.infoCell("port",t)+guiEasy.curly.notificationtable.infoCell("enabled",t)+"<hr>\n                    </td>\n                </tr>  \n                ";return e+="</table>"},guiEasy.curly.notificationtable.infoCell=function(e,t){return'\n            <div class="notification-row flex is-hidden">\n                <div class="notification-row title">'+helpEasy.capitalWord(e)+'</div>\n                <div class="notification-plugin" id="notification-'+(t+1)+"-"+e.toLowerCase()+'"></div>\n            </div>\n        '},guiEasy.curly.controllertable=function(){let e='\n                <table id="controller-table">\n                <tr>\n                    <th class="controller-table header">Controller</th>\n                    <th class="controller-table header">Protocol</th>\n                    <th class="controller-table header">Info</th>\n                </tr>\n         ';for(let t=0;t<3;t++)e+='\n                <tr>\n                    <td class="controller-table controller">\n                        <button class="main-font" data-click="controller-edit-'+(t+1)+'">'+(t+1)+'</button>\n                    </td>\n                    <td class="controller-table protocol">\n                        \n                    </td>\n                    <td class="controller-table info">'+guiEasy.curly.controllertable.infoCell("host",t)+"<hr>"+guiEasy.curly.controllertable.infoCell("port",t)+guiEasy.curly.controllertable.infoCell("enabled",t)+"<hr>\n                    </td>\n                </tr>  \n                ";return e+="</table>"},guiEasy.curly.controllertable.infoCell=function(e,t){return'\n            <div class="controller-row flex is-hidden">\n                <div class="controller-row title">'+helpEasy.capitalWord(e)+'</div>\n                <div class="controller-plugin" id="controller-'+(t+1)+"-"+e.toLowerCase()+'"></div>\n            </div>\n        '},guiEasy.curly.devicetable=function(){let e=guiEasy.maxTasks(),t=guiEasy.maxValuesPerTask(),n='\n                <table id="device-table">\n                <tr>\n                    <th class="device-table header">Task</th>\n                    <th class="device-table header">Device</th>\n                    <th class="device-table header">Value</th>\n                </tr>\n         ';for(let a=0;a<e;a++){n+='\n                <tr>\n                    <td class="device-table task">\n                        <button class="main-font" data-click="task-edit-'+(a+1)+'">'+(a+1)+'</button>\n                    </td>\n                    <td class="device-table device">'+guiEasy.curly.devicetable.deviceCell("plugin",a)+'<hr class="is-hidden" id="task-'+(a+1)+'-port-hr">'+guiEasy.curly.devicetable.deviceCell("port",a)+'<hr class="is-hidden" id="task-'+(a+1)+'-controller-hr">'+guiEasy.curly.devicetable.deviceCell("controller",a)+'<hr class="is-hidden" id="task-'+(a+1)+'-gpio-hr">'+guiEasy.curly.devicetable.deviceCell("gpio",a)+'</td>\n                    <td class="device-table value">\n                    <div class="task-name value-row" id="task-'+(a+1)+'-name" data-clear-task="'+(a+1)+'"></div>\n                    <hr>\n                ';for(let e=0;e<t;e++)n+='\n                        <div class="value-row flex is-hidden" id="task-'+(a+1)+"-value-"+(e+1)+'-row">\n                            <div class="value-name classic" id="task-'+(a+1)+"-value-"+(e+1)+'-name" data-clear-task="'+(a+1)+'"></div>\n                            <div class="value-digits classic" id="task-'+(a+1)+"-value-"+(e+1)+'-value" data-clear-task="'+(a+1)+'"></div>\n                        </div>\n                    ',n+=e!==t-1?"</div><hr class='is-hidden' id='task-"+(a+1)+"-value-"+(e+2)+"-hr' data-clear-hr='"+(a+1)+"'>":"</div>";n+="</td></tr>"}return n+="</table>"},guiEasy.curly.devicetable.deviceCell=function(e,t){return'\n            <div class="device-row flex is-hidden" id="task-'+(t+1)+"-"+e.toLowerCase()+'-row" data-hide-row="'+(t+1)+'">\n                <div class="device-row title">'+helpEasy.capitalWord(e)+'</div>\n                <div class="device-plugin is-right" id="task-'+(t+1)+"-"+e.toLowerCase()+'" data-clear-task="'+(t+1)+'"></div>\n            </div>\n        '},guiEasy.curly.navbar=function(){const e=guiEasy.tabs;let t='\n            <nav id="navbar">\n                <div class="got-wallpaper"></div>\n                <ul class="nav" name="nav-group">\n        ',n=e.left;for(let e=0;e<n.length;e++)t+=guiEasy.curly.navbar.tab(n[e]);t+="</div></li></div>",t+="<li class='nav-middle-area' id='nav-middle-area'>{{UNITNAME}}</li>",n=e.right;let a="";for(let e=0;e<n.length;e++)a+=guiEasy.curly.navbar.tab(n[e]);return t+="<div class='nav-group' id='nav-right-big-screen' name='nav-group'>"+(a+="</div></li>")+"</div></ul>",t+="<ul class='nav-small-screen'><div class='nav-group' id='nav-right-small-screen' name='nav-group'>"+a+"</div></ul>",t+="</nav>"},guiEasy.curly.navbar.tab=function(e){return'\n            <li class="nav" name="tab-'+e+'">\n                <div class="nav icon text" data-click="tab-'+e+'" data-tab="'+e+'" data-highlight="true">\n                    <div class="tab-icon" data-click="tab-'+e+'">{{ICON-'+e.toUpperCase()+'}}</div>\n                    <div class="tab-text" data-click="tab-'+e+'">'+helpEasy.capitalWord(e)+"</div>\n        "},guiEasy.curly.drawer=function(e){let t="";if("theme"===e[0]){let e=defaultSettings.css.variables,n=Math.round((e.length+1)/3+1);t='\n                    <div class="bottom-drawer is-inactive" data-open="is-half-size" id="drawer-theme" data-close="is-inactive">\n                        <div class="bottom-tab" tabindex="0" data-click="drawer-theme">\n                        <div id="custom-theme-settings"></div>\n                        {{ICON-THEME}}\n                        Theme\n                        </div>\n                        <div class="bottom-container">\n                        <div class="area">\n                     ';let a=0;t+='<div class="column">';for(let s=0;s<e.length;s++)++a===n&&(t+='</div><div class="column">',a=1),t+=guiEasy.curly.drawer.theme(e[s]);t+='\n            <hr>\n            <div class="row">\n                    <button class="main-success" data-click="theme-save">Save</button>\n                    <button class="main-sunny" data-click="theme-copy">Copy</button>\n                    <button class="main-info" data-click="theme-default">Default</button>\n                    <button class="main-bg" data-click="modal-theme-import">Import</button>\n            </div>\n            </div>\n            ',t+="</div></div></div>"}return t},guiEasy.curly.drawer.theme=function(e){let t=e[0].split("-");t=t[t.length-1];let n=e[0],a=e[1],s=e[2],l="";if("color"===t){l='\n            <input type="color" id="theme-'+n+'" data-alt="css-color" data-default-value="'+a+'" data-change="'+n+'">\n            <label class="color '+n.replace("-color","")+'" for="theme-'+n+'" tabindex="0">'+s+"</label>\n        "}if("toggle"===t){let e=defaultSettings.css.toggle[n][a],t=s.split("|"),i=t[0];!0!==e&&(i=t[1]),l='\n            <input type="checkbox" id="theme-'+n+'" data-alt="css-toggle" data-true-text="'+t[0]+'" data-false-text="'+t[1]+'" data-default-value="'+e+'" data-default-text="'+a+'" data-change="'+n+'" checked="'+e+'">\n            <label class="checkbox" id="label-'+n+'" for="theme-'+n+'" tabindex="0">'+i+"</label>\n            "}if("size"===t){let e=defaultSettings.css.size,t=e[n].max;l='\n            <input type="number" id="theme-'+n+'" min="'+e[n].min+'" max="'+t+'" step="'+e[n].step+'" data-alt="css-size" placeholder="'+e[n].placeholder+'" data-default-value="'+a+'" data-change="'+n+'" value="'+a+'">\n            <label class="number" for="theme-'+n+'" id="label-'+n+'">'+s+"</label>\n        "}if("family"===t&&(l="\n                <span>"+s+"</span>"+guiEasy.curly.drawer.theme.family(n,a)+'<label class="select" for="theme-'+n+'" data-alt="css-family" data-change="default-font-family"></label>\n                   </div>\n                   <div class="row is-hidden" id="row-custom-font-family">\n                    <span>\n                        Font name\n                        <button\n                            class="help-link"\n                            data-click="open-url"\n                            data-href="https://fonts.google.com/"\n                            data-target="_blank"\n                            data-href-rel="{{VERSION-GUI-TEXT}}"\n                            >\n                        </button>\n                    </span>\n                    <input spellcheck="false" data-alt="css-familycustom" type="text" id="theme-custom-font-family" data-change="default-font-family">\n        '),"url"===t){l="\n               <span>"+s+'</span>\n               <input spellcheck="false" type="text" id="theme-'+n+'" placeholder="'+defaultSettings.css.url[n].placeholder+'" data-alt="css-url" data-default-value="" data-change="'+n+'">\n        '}return'<div class="row">'+l+"</div>"},guiEasy.curly.drawer.theme.family=function(e,t){let n=defaultSettings.css.family[e],a='<select id="theme-'+e+'" data-alt="css-family" data-change="'+e+'"',s="",l=0;for(let e=0;e<n.length;e++){let a=n[e];a.value===t?(l=e,s+='<option value="'+a.value+'" selected="selected">'+a.text+"</option>"):s+='<option value="'+a.value+'">'+a.text+"</option>"}return(a+='data-default-index="'+l+'" data-default-value="'+t+'">')+s+"</select>"},guiEasy.curly.unit=function(e){let t=guiEasy.curly.unit,n=e[0];return"gauges"===n||"shortinfo"===n||"welcometext"===n?t[n]:""},guiEasy.curly.unit.gauges=function(){let e=guiEasy.curly.unit.gauges,t="<div id='main-resources'>";return t+=e.create("LOAD","Load",100,0),t+=e.create("MEM","Free RAM",0,4e4),t+=e.create("LOOPS","Load LC",0,1e4),t+="</div>"},guiEasy.curly.unit.gauges.create=function(e,t,n,a){return'\n        <svg class="gauge" viewBox="0 0 200 200" data-json-path-gauge-color="'+t+'">\n        <circle cx="100" cy="100" r="85"></circle>\n        <circle cx="100" cy="100" r="85" data-json-path-gauge="live--json--System--'+t+'" data-max="'+n+'" data-min="'+a+'" class="value" style="stroke-dashoffset:574.5;"></circle>\n        <text class="value" x="100" y="110" text-anchor="middle">\n        <tspan data-json-path="live--json--System--'+t+'"></tspan>\n        </text>\n        <text class="text" x="100" y="140" text-anchor="middle">\n        <tspan>'+e+"</tspan>\n        </text>\n        </svg>\n    "},guiEasy.curly.unit.shortinfo=function(){return'\n        <div id="main-unit-info" class="got-margin">\n            <div data-json-path="live--json--System--Unit Name"></div>\n            <br>\n            <div data-json-path="live--json--System--Local Time"></div>\n            <br>\n            Uptime: <div data-json-path="live--json--System--Uptime"></div> minutes\n            <br>\n            {{ICON-WIFI-SELF}}\n            <div data-json-path="live--json--WiFi--SSID"></div> (<div data-json-path="live--json--WiFi--RSSI"></div>dBm)\n            <br>\n            <div data-json-path="live--json--WiFi--IP Address"></div>\n        </div>\n    '},guiEasy.curly.unit.welcometext=function(){return'\n        <div id="welcome-text">\n            <hr>\n           <div class="text-big">'+helpEasy.welcomePhrase()+'</div>\n            <div class="got-margin">\n                I see that this is you first visit, please configure your unit...\n            </div>\n            {{GOTO-TAB-CONFIG}}\n            <hr class="got-margin">\n        </div>\n    '},guiEasy.curly.page=function(e){let t=e[0];if("main"===t||"config"===t||"hardware"===t||"devices"===t||"controllers"===t||"notification"===t||"tools"===t||"rules"===t)return guiEasy.curly.page[t]},guiEasy.curly.page.main=function(){return'\n        {{UNIT-SHORTINFO}}\n        {{UNIT-WELCOMETEXT}}\n        {{UNIT-GAUGES}}\n        <br class="got-margin">\n        {{NODELIST}}\n    '},guiEasy.curly.page.devices=function(){return"\n            {{DEVICETABLE}}\n        "},guiEasy.curly.page.controllers=function(){return"\n            {{CONTROLLERTABLE}}\n        "},guiEasy.curly.page.notification=function(){return"\n            {{NOTIFICATIONTABLE}}\n        "},guiEasy.curly.page.tools=function(){let e="";return e+=helpEasy.dashGroupContainerOpen("commands"),e+=helpEasy.dashBoxContainerOpen(),e+=helpEasy.addToolsButton({type:"command",buttonAction:"command-reboot",icon:"reboot",text:"reboot the esp",color:"bg",waveText:"unit rebooted"}),e+=helpEasy.addToolsButton({type:"command",buttonAction:"command-wificonnect",icon:"wificonnect",text:"connect to <br> preset wifi",color:"success",waveText:"wifi connected"}),e+=helpEasy.addToolsButton({type:"command",buttonAction:"command-wifidisconnect",icon:"wifidisconnect",text:"disconnect from <br> current wifi",color:"warning",waveText:"wifi disconnected"}),e+=helpEasy.dashContainerClose(),e+=helpEasy.dashContainerClose(),e+=helpEasy.dashGroupContainerOpen("info pages"),e+=helpEasy.dashBoxContainerOpen(),e+=helpEasy.addToolsButton({type:"info",button:"system info",buttonAction:"modal-info-system",text:"show system <br> info page"}),e+=helpEasy.addToolsButton({type:"info",button:"web log",buttonAction:"modal-info-log",text:"show web log"}),e+=helpEasy.addToolsButton({type:"info",button:"json endpoint",buttonAction:"modal-info-json",text:"open the <br> json endpoint"}),e+=helpEasy.addToolsButton({type:"info",button:"timing stats",buttonAction:"modal-info-timing",text:"show timing <br> statistics"}),e+=helpEasy.addToolsButton({type:"info",button:"pin state buffer",buttonAction:"modal-info-pinstate",text:"show pin <br> state buffer"}),e+=helpEasy.addToolsButton({type:"info",button:"system variables",buttonAction:"modal-info-sysvars",text:"show all system <br> variables and <br> conversions"}),e+=helpEasy.dashContainerClose(),e+=helpEasy.dashContainerClose(),e+=helpEasy.dashGroupContainerOpen("scanners"),e+=helpEasy.dashBoxContainerOpen(),e+=helpEasy.addToolsButton({type:"scanner",buttonAction:"modal-wifi-scanner",button:"wifi",text:"scan for wifi<br> networks"}),e+=helpEasy.addToolsButton({type:"scanner",buttonAction:"modal-i2c-scanner",button:"i2c",text:"scan for <br> i2c devices"}),e+=helpEasy.dashContainerClose(),e+=helpEasy.dashContainerClose(),e+=helpEasy.dashGroupContainerOpen("system"),e+=helpEasy.dashBoxContainerOpen(),e+=helpEasy.addToolsButton({type:"system",button:"time",buttonAction:"modal-settings-time",text:"time <br> settings"}),e+=helpEasy.addToolsButton({type:"system",button:"location",buttonAction:"modal-settings-location",text:"location <br> settings"}),e+=helpEasy.addToolsButton({type:"system",button:"user interface",buttonAction:"modal-settings-gui",text:"manage <br> gui settings"}),e+=helpEasy.addToolsButton({type:"system",buttonAction:"modal-files-table",button:"files",text:"manage <br> files"}),e+=helpEasy.addToolsButton({type:"system",buttonAction:"modal-firmware-update",button:"update",text:"update <br> firmware"}),e+=helpEasy.addToolsButton({type:"system",buttonAction:"modal-firmware-reset",button:"reset",text:"factory reset <br> firmware"}),e+=helpEasy.addToolsButton({type:"system",button:"patreon goodies",buttonAction:"modal-patreon",text:"unlock <br> paid features"}),e+=helpEasy.dashContainerClose(),e+=helpEasy.dashContainerClose(),e+=helpEasy.dashGroupContainerOpen("advanced"),e+=helpEasy.dashBoxContainerOpen(),e+=helpEasy.addToolsButton({type:"system",button:"rules",buttonAction:"modal-settings-rules",text:"rules <br> setup"}),e+=helpEasy.addToolsButton({type:"system",button:"p2p",buttonAction:"modal-settings-p2p",text:"easy communication <br> settings"}),e+=helpEasy.addToolsButton({type:"system",button:"mqtt",buttonAction:"modal-settings-mqtt",text:"generic mqtt <br> settings"}),e+=helpEasy.addToolsButton({type:"system",button:"log and serial",buttonAction:"modal-settings-log",text:"log and serial <br> settings"}),e+=helpEasy.addToolsButton({type:"system",button:"experimental",buttonAction:"modal-experimental",text:"highly experimental <br> features"}),e+=helpEasy.dashContainerClose(),e+=helpEasy.dashContainerClose()},guiEasy.curly.page.rules=function(){return'\n        <div class="editor" id="rules-editor-background">\n            <textarea   class="is-monotext"\n                        autocomplete="off"\n                        autocorrect="off"\n                        autocapitalize="off" \n                        spellcheck="false"\n                        data-input="editor-syntax"\n                        data-alt="rules"\n                        wrap="soft"\n                        id="rules-editor"\n            ></textarea>\n            <div class="editor-container">\n                <div        class="editor-selection is-monotext"\n                            tabindex="-1"\n                            id="rules-editor-selection"\n                >‌</div>\n                <div        class="editor-syntax is-monotext"\n                            tabindex="-1"\n                            id="rules-editor-syntax"\n                >‌</div>\n                <div        class="editor-input is-monotext"\n                            tabindex="-1"\n                            id="rules-editor-input"\n                >‌</div>\n            </div>\n        </div>\n        '},guiEasy.curly.page.config=function(){let e="";return e+=helpEasy.openArea("unit"),e+=helpEasy.openColumn(),e+=helpEasy.addInput({type:"string",toSettings:!0,alt:"settings-change",title:"unit name",settingsId:"config--general--unitname",settingsMaxLength:99999,settingsRegEx:"",placeholder:"",allowedBlank:!1,default:"ESP_Easy"}),e+=helpEasy.closeColumn(),e+=helpEasy.openColumn(),e+=helpEasy.addInput({type:"toggle",toSettings:!0,alt:"settings-change",title:"append number",settingsId:"config--general--appendunitno",settingsTrue:0,settingsFalse:1,trueText:"Hostname: name_number",falseText:"Hostname: name",default:!0}),e+=helpEasy.addInput({type:"number",toSettings:!0,alt:"settings-change",title:"unit number",settingsId:"config--general--unitnr",placeholder:"",tooltip:"0 and 255 are not valid<br>if you want to use p2p.",default:0,max:255,min:0,step:1}),e+=helpEasy.closeColumn(),e+=helpEasy.openColumn(),e+=helpEasy.addInput({type:"password",toSettings:!0,alt:"settings-change",title:"admin password",settingsId:"security--0--password",settingsMaxLength:99999,settingsRegEx:"",placeholder:"blank = no password",default:""}),e+=helpEasy.closeColumn(),e+=helpEasy.closeArea(),e+=helpEasy.openArea("wifi"),e+=helpEasy.openColumn(),e+=helpEasy.addInput({type:"string",toSettings:!0,alt:"settings-change",title:"ssid",settingsId:"security--0--WifiSSID",settingsMaxLength:99999,settingsRegEx:"",placeholder:"",default:""}),e+=helpEasy.addInput({type:"password",toSettings:!0,alt:"settings-change",title:"wpa key",settingsId:"security--0--WifiKey",settingsMaxLength:99999,settingsRegEx:"",placeholder:"",default:""}),e+=helpEasy.closeColumn(),e+=helpEasy.openColumn(),e+=helpEasy.addInput({type:"string",toSettings:!0,alt:"settings-change",title:"ssid fallback",settingsId:"security--0--WifiSSID2",settingsMaxLength:99999,settingsRegEx:"",placeholder:"",default:""}),e+=helpEasy.addInput({type:"password",toSettings:!0,alt:"settings-change",title:"wpa key fallback",settingsId:"security--0--WifiKey2",settingsMaxLength:99999,settingsRegEx:"",placeholder:"",default:""}),e+=helpEasy.closeColumn(),e+=helpEasy.openColumn(),e+=helpEasy.addInput({type:"password",toSettings:!0,alt:"settings-change",title:"ap mode wpa key",settingsId:"security--0--WifiAPKey",settingsMaxLength:99999,settingsRegEx:"",placeholder:'blank = "configesp"',default:"",valueIfBlank:"configesp"}),e+=helpEasy.closeColumn(),e+=helpEasy.closeArea(),e+=helpEasy.openArea("ip settings"),e+=helpEasy.openColumn(),e+=helpEasy.addInput({type:"string",toSettings:!0,alt:"settings-change",title:"esp ip",settingsId:"config--IP--ip",settingsMaxLength:15,settingsIP:!0,placeholder:"blank = DHCP",valueIfBlank:"0.0.0.0",default:""}),e+=helpEasy.addInput({type:"string",toSettings:!0,alt:"settings-change",title:"gateway",settingsId:"config--IP--gw",settingsMaxLength:15,settingsIP:!0,placeholder:"blank = DHCP",valueIfBlank:"0.0.0.0",default:""}),e+=helpEasy.closeColumn(),e+=helpEasy.openColumn(),e+=helpEasy.addInput({type:"string",toSettings:!0,alt:"settings-change",title:"subnet mask",settingsId:"config--IP--subnet",settingsMaxLength:15,settingsIP:!0,placeholder:"blank = DHCP",valueIfBlank:"0.0.0.0",default:""}),e+=helpEasy.addInput({type:"string",toSettings:!0,alt:"settings-change",title:"dns",settingsId:"config--IP--dns",settingsMaxLength:15,settingsIP:!0,placeholder:"blank = DHCP",valueIfBlank:"0.0.0.0",default:""}),e+=helpEasy.closeColumn(),e+=helpEasy.openColumn(),e+=helpEasy.closeColumn(),e+=helpEasy.closeArea(),e+=helpEasy.openArea("client ip filtering"),e+=helpEasy.openColumn(),e+=helpEasy.addInput({type:"dropdown",toSettings:!0,alt:"settings-change",title:"client ip block level",settingsId:"security--0--IPblockLevel",placeholder:"",default:1,optionList:[{text:"Allow All",value:"0"},{text:"Allow Local Subnet",value:"1"},{text:"Allow IP range",value:"2"}],optionListOffset:0}),e+=helpEasy.closeColumn(),e+=helpEasy.openColumn(),e+=helpEasy.addInput({type:"string",toSettings:!0,alt:"settings-change",title:"access ip lower range",settingsId:"security--0--AllowedIPrangeLow",settingsMaxLength:15,settingsIP:!0,placeholder:"",default:""}),e+=helpEasy.closeColumn(),e+=helpEasy.openColumn(),e+=helpEasy.addInput({type:"string",toSettings:!0,alt:"settings-change",title:"access ip upper range",settingsId:"security--0--AllowedIPrangeHigh",settingsMaxLength:15,settingsIP:!0,placeholder:"",default:""}),e+=helpEasy.closeColumn(),e+=helpEasy.closeArea(),e+=helpEasy.openArea("sleep mode"),e+=helpEasy.openColumn(),e+=helpEasy.addInput({type:"number",toSettings:!0,alt:"settings-change",title:"awake time",settingsId:"config--sleep--awaketime",placeholder:"s",tooltip:"0 = sleep disabled,<br>else time awake from sleep.",default:0,max:12113,min:0,step:1}),e+=helpEasy.closeColumn(),e+=helpEasy.openColumn(),e+=helpEasy.addInput({type:"number",toSettings:!0,alt:"settings-change",title:"sleep time",settingsId:"config--sleep--sleeptime",placeholder:"s",tooltip:"Max 12113 seconds<br>(little over 200 minutes).",default:3600,max:12113,min:10,step:1}),e+=helpEasy.closeColumn(),e+=helpEasy.openColumn(),e+=helpEasy.addInput({type:"toggle",toSettings:!0,alt:"settings-change",title:"sleep on connection failure",settingsId:"config--sleep--sleeponfailiure",settingsTrue:1,settingsFalse:0,trueText:"Go to sleep on connection failed",falseText:"Stay awake until connected",default:!1}),e+=helpEasy.closeColumn(),e+=helpEasy.closeArea()},guiEasy.curly.page.hardware=function(){let e="";e+=helpEasy.openArea("generic pin setup"),e+=helpEasy.openColumn(),e+=helpEasy.addInput({type:"dropdown",toSettings:!0,alt:"settings-change",title:"gpio wifi status led",settingsId:"hardware--led--gpio",placeholder:"",default:0,optionList:guiEasy.gpiolist(),optionListOffset:-1}),e+=helpEasy.addInput({type:"toggle",toSettings:!0,alt:"settings-change",title:"inverse led",settingsId:"hardware--led--inverse",settingsTrue:1,settingsFalse:0,tooltip:"Use 'GPIO 2 (D4)' with 'Inverse'<br>checked for on board LED",trueText:"led is inverse",falseText:"led is normal",default:!0}),e+=helpEasy.closeColumn(),e+=helpEasy.openColumn(),e+=helpEasy.addInput({type:"dropdown",toSettings:!0,alt:"settings-change",title:"gpio reset button",settingsId:"hardware--reset--pin",placeholder:"",default:0,optionList:guiEasy.gpiolist(),optionListOffset:-1}),e+=helpEasy.closeColumn(),e+=helpEasy.openColumn(),e+=helpEasy.addInput({type:"dropdown",toSettings:!0,alt:"settings-change",title:"gpio i2c sda",settingsId:"hardware--i2c--sda",placeholder:"",default:5,optionList:guiEasy.gpiolist(),optionListOffset:-1}),e+=helpEasy.addInput({type:"dropdown",toSettings:!0,alt:"settings-change",title:"gpio i2c scl",settingsId:"hardware--i2c--scl",placeholder:"",default:6,optionList:guiEasy.gpiolist(),optionListOffset:-1}),e+=helpEasy.addLine(),e+=helpEasy.addInput({type:"toggle",toSettings:!0,alt:"settings-change",title:"initiate spi",settingsId:"hardware--spi--enabled",settingsTrue:1,settingsFalse:0,tooltip:"CLK=GPIO 14 (D5)<br>MISO=GPIO 12 (D6)<br>MOSI=GPIO-13 (D7)<hr>Chip Select (CS) config<br>must be done in the plugin!",trueText:"spi will be initiated on boot",falseText:"spi is inactivated",default:!1}),e+=helpEasy.closeColumn(),e+=helpEasy.closeArea(),e+=helpEasy.openArea("gpio boot states"),e+=helpEasy.openColumn();let t=guiEasy.gpiolist(),n=0;for(let a=1;a<t.length;a++){let s=t[a].text,l=t[a].note,i=t[a].disabled,o=t[a].value;e+=helpEasy.addInput({type:"dropdown",toSettings:!0,alt:"settings-change",title:"pin mode "+s+" "+l+": ",settingsId:"hardware--gpio--"+o,placeholder:"",default:0,optionList:[{text:"Default",value:0},{text:"Output Low",value:1},{text:"Output High",value:2},{text:"Input",value:3}],optionListOffset:0,disabled:i}),++n>t.length/3&&(e+=helpEasy.closeColumn(),e+=helpEasy.openColumn(),n=0)}return e+=helpEasy.closeColumn(),e+=helpEasy.closeArea()},guiEasy.curly.logo=function(e){let t=e[0];return void 0===t&&(t="normal"),' \n        <svg class="logo-'+t+'"\n        viewBox="0 0 113.392 113.392"\n         xmlns=\'http://www.w3.org/2000/svg\'>\n        <path\n            class="fill-main-inverted"\n                d="M 0,93.462 V 19.926 C 0,8.921 8.921,0 19.926,0 h 73.536 c 11,0 19.93,8.921 19.93,19.926 v 73.536 c 0,11 -8.93,19.93 -19.93,19.93 H 19.926 C 8.921,113.392 0,104.462 0,93.462 Z M 113.392,0"\n                name="logo-background"\n        ></path>\n        <path\n            class="main-success line-path"\n                d="M 14.174,42.521 42.521,14.174"\n                name="logo-line0"\n        ></path>\n        <path\n            class="main-sunny line-path"\n                d="M 14.174,70.867 70.867,14.174"\n                name="logo-line1"\n        ></path>\n        <path\n            class="main-info line-path"\n                d="M 14.174,99.212 99.212,14.174"\n                name="logo-line2"\n        ></path>\n        <path\n            class="main-warning line-path"\n                d="M 42.521,99.212 99.212,42.521"\n                name="logo-line3"\n        ></path>\n        <path\n            class="fill-main-font"\n                d="m 103.462,92.132 c 0,-6.267 -5.07,-11.343 -11.33,-11.343 -6.267,0 -11.343,5.076 -11.343,11.343 0,6.26 5.076,11.33 11.343,11.33 6.26,0 11.33,-5.07 11.33,-11.33 z m -11.33,0"\n                name="logo-dot"\n        ></path>\n        </svg>\n      '},guiEasy.curly.icon=function(e){let t=e[0],n=" xmlns='http://www.w3.org/2000/svg'",a="class='fill-main-font'",s=" viewBox='0 0 24 24'";if("wifi"===t){let t;return"\n           <svg "+(t="self"===e[1]?"name='unit-wifi-rssi-icon'":"signal='"+e[1]+"'")+n+" viewBox=\"0 0 14 10\" class=\"inline-icon wifi\">\n                <rect name=\"level-1\" x='0' y='8' width='2' height='2'></rect>\n                <rect name=\"level-2\" x='3' y='6' width='2' height='4'></rect>\n                <rect name=\"level-3\" x='6' y='4' width='2' height='6'></rect>\n                <rect name=\"level-4\" x='9' y='2' width='2' height='8'></rect>\n                <rect name=\"level-5\" x='12' y='0' width='2' height='10'></rect>\n           </svg>\n           "}return"action"===t?'\n            <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M20,11h-7V4c0-0.552-0.448-1-1-1s-1,0.448-1,1v7H4c-0.552,0-1,0.448-1,1s0.448,1,1,1h7v7c0,0.552,0.448,1,1,1s1-0.448,1-1 v-7h7c0.552,0,1-0.448,1-1S20.552,11,20,11z"/>\n            </svg>\n           ':"theme"===t?'\n            <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M12.714,2.025C6.629,1.603,1.603,6.628,2.025,12.713C2.392,18.002,7.006,22,12.307,22H13c1.105,0,2-0.895,2-2v-3 c0-1.105,0.895-2,2-2h3c1.105,0,2-0.895,2-2v-0.693C22,7.006,18.002,2.392,12.714,2.025z M10.5,4C11.328,4,12,4.672,12,5.5 S11.328,7,10.5,7S9,6.328,9,5.5S9.672,4,10.5,4z M5.5,15C4.672,15,4,14.328,4,13.5S4.672,12,5.5,12S7,12.672,7,13.5 S6.328,15,5.5,15z M6.5,10C5.672,10,5,9.328,5,8.5S5.672,7,6.5,7S8,7.672,8,8.5S7.328,10,6.5,10z M11,20c-1.105,0-2-0.895-2-2 c0-1.105,0.895-2,2-2s2,0.895,2,2C13,19.105,12.105,20,11,20z M15.5,8C14.672,8,14,7.328,14,6.5S14.672,5,15.5,5S17,5.672,17,6.5 S16.328,8,15.5,8z M18.5,13c-0.828,0-1.5-0.672-1.5-1.5s0.672-1.5,1.5-1.5s1.5,0.672,1.5,1.5S19.328,13,18.5,13z"/>\n            </svg>\n           ':"save"===t?'\n            <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M17.586,3.586C17.211,3.211,16.702,3,16.172,3H5C3.89,3,3,3.9,3,5v14c0,1.105,0.895,2,2,2h14c1.1,0,2-0.9,2-2V7.828 c0-0.53-0.211-1.039-0.586-1.414L17.586,3.586z M12,19c-1.66,0-3-1.34-3-3s1.34-3,3-3s3,1.34,3,3S13.66,19,12,19z M14,9H6 C5.448,9,5,8.552,5,8V6c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1v2C15,8.552,14.552,9,14,9z"/>\n            </svg>\n           ':"cancel"===t?'\n            <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M 6 2 C 4.9 2 4 2.9 4 4 L 4 20 C 4 21.1 4.9 22 6 22 L 11.078125 22 C 10.419125 20.863 10.027953 19.551437 10.001953 18.148438 C 9.9369531 14.659437 12.170172 11.641125 15.451172 10.453125 C 17.076172 9.865125 18.603 9.9017188 20 10.261719 L 20 8.4140625 C 20 8.1490625 19.895031 7.8940313 19.707031 7.7070312 L 14.292969 2.2929688 C 14.104969 2.1049687 13.850937 2 13.585938 2 L 6 2 z M 13 3.5 L 18.5 9 L 13 9 L 13 3.5 z M 18.001953 12 C 14.700328 12 12.001953 14.698375 12.001953 18 C 12.001953 19.24748 12.38752 20.410166 13.042969 21.373047 L 12.121094 22.294922 C 11.861094 22.554922 12.046062 23 12.414062 23 L 14.824219 23 A 1.0001 1.0001 0 0 0 15.732422 22.732422 A 1.0001 1.0001 0 0 0 16.001953 21.787109 L 16.001953 19.414062 C 16.001953 19.046062 15.556875 18.862094 15.296875 19.121094 L 14.496094 19.921875 C 14.183492 19.352587 14.001953 18.700274 14.001953 18 C 14.001953 15.779625 15.781579 14 18.001953 14 C 20.222328 14 22.001953 15.779625 22.001953 18 C 22.001953 19.945526 20.625661 21.550064 18.802734 21.919922 A 1.0003092 1.0003092 0 1 0 19.199219 23.880859 C 21.940292 23.324717 24.001953 20.892474 24.001953 18 C 24.001953 14.698375 21.303579 12 18.001953 12 z"/>\n            </svg>\n           ':"ghost"===t?'\n            <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M19,9c-0.324-0.066-1,0.082-1-1c0-2.914-2-6-6-6C7.98,2,6,5.086,6,8c0,1.188-0.676,0.934-1,1\tc-1.954,0.398-2.762,2.009-2.953,3.983c-0.053,0.546,0.367,1.019,0.912,1.079C4.296,14.209,5,14.645,5,16c0,2.125,1.906,3,3,3\tc0,1.656,2.344,3,4,3s4-1.344,4-3c1.094,0,3-0.813,3-3c0-1.344,0.719-1.826,2.025-1.958c0.552-0.056,0.981-0.528,0.927-1.08\tC21.756,10.998,20.947,9.397,19,9z M10,8C9.449,8,9,7.551,9,7s0.449-1,1-1s1,0.449,1,1S10.551,8,10,8z M13,8c-0.551,0-1-0.449-1-1\ts0.449-1,1-1s1,0.449,1,1S13.551,8,13,8z"/>\n            </svg>\n           ':"queen"===t?'\n            <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M 12 2 A 1 1 0 0 0 11.552734 3.8945312 L 11 5 L 8.9472656 4.3164062 A 1 1 0 0 0 8 3 A 1 1 0 0 0 8 5 A 1 1 0 0 0 8.3164062 4.9472656 L 8.7714844 6.3164062 C 8.9074844 6.7254062 9.2897031 7 9.7207031 7 L 14.279297 7 C 14.710297 7 15.092516 6.7254062 15.228516 6.3164062 L 15.683594 4.9472656 A 1 1 0 0 0 16 5 A 1 1 0 0 0 16 3 A 1 1 0 0 0 15.050781 4.3164062 L 13 5 L 12.447266 3.8925781 A 1 1 0 0 0 12 2 z M 12 8 C 10.346 8 9 9.346 9 11 C 9 11.078964 9.0174148 11.153022 9.0234375 11.230469 C 7.8392425 10.611897 6.23218 10 4.5 10 C 3.119 10 2 11.119 2 12.5 C 2 13.881 3.119 15 4.5 15 C 6.0118186 15 7.4113983 14.529933 8.5351562 14 L 12 14 L 15.464844 14 C 16.588602 14.529933 17.988181 15 19.5 15 C 20.881 15 22 13.881 22 12.5 C 22 11.119 20.881 10 19.5 10 C 17.76782 10 16.160758 10.611897 14.976562 11.230469 C 14.982585 11.153022 15 11.078964 15 11 C 15 9.346 13.654 8 12 8 z M 8.0175781 16 C 8.0075781 16.165 8 16.331 8 16.5 C 8 17.021 8.0562969 17.523 8.1542969 18 L 15.845703 18 C 15.943703 17.523 16 17.021 16 16.5 C 16 16.331 15.992422 16.165 15.982422 16 L 8.0175781 16 z M 8.9140625 20 C 9.6480625 21.221 10.757 22 12 22 C 13.243 22 14.351937 21.221 15.085938 20 L 8.9140625 20 z"/>\n            </svg>\n           ':"drone"===t?'\n            <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M 9.015625 1.9882812 A 1.0001 1.0001 0 0 0 8.1054688 3.4472656 L 9.5332031 6.3007812 C 9.1988433 6.7845826 9 7.3687982 9 8 C 9 8.0789638 9.0174148 8.1530219 9.0234375 8.2304688 C 7.8392425 7.6118972 6.23218 7 4.5 7 C 3.119 7 2 8.119 2 9.5 C 2 10.881 3.119 12 4.5 12 C 5.6805773 12 6.7908623 11.707072 7.7617188 11.330078 C 7.5320488 11.849285 7.3381108 12.402182 7.2109375 13 L 16.789062 13 C 16.661889 12.402182 16.467951 11.849285 16.238281 11.330078 C 17.209138 11.707072 18.319423 12 19.5 12 C 20.881 12 22 10.881 22 9.5 C 22 8.119 20.881 7 19.5 7 C 17.76782 7 16.160758 7.6118972 14.976562 8.2304688 C 14.982585 8.1530219 15 8.0789638 15 8 C 15 7.3687982 14.801157 6.7845826 14.466797 6.3007812 L 15.894531 3.4472656 A 1.0001161 1.0001161 0 1 0 14.105469 2.5527344 L 12.818359 5.1269531 C 12.556437 5.0520128 12.28564 5 12 5 C 11.71436 5 11.443563 5.0520128 11.181641 5.1269531 L 9.8945312 2.5527344 A 1.0001 1.0001 0 0 0 9.015625 1.9882812 z M 7 15 C 7 15.695 7.0759375 16.366 7.2109375 17 L 16.789062 17 C 16.924063 16.366 17 15.695 17 15 L 7 15 z M 7.9003906 19 C 8.8043906 20.812 10.302 22 12 22 C 13.698 22 15.195609 20.812 16.099609 19 L 7.9003906 19 z"/>\n            </svg>\n           ':"swarm"===t?'\n            <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M 17.001953 0.99414062 C 15.356983 0.99414062 14.001953 2.3491708 14.001953 3.9941406 L 14.001953 4.9941406 L 13.001953 4.9941406 C 12.449953 4.9941406 12.001953 5.4421406 12.001953 5.9941406 C 12.001953 6.5461406 12.449953 6.9941406 13.001953 6.9941406 L 14.001953 6.9941406 L 14.001953 7.9941406 C 14.001953 9.6391105 15.356983 10.994141 17.001953 10.994141 C 18.646923 10.994141 20.001953 9.6391105 20.001953 7.9941406 L 20.001953 6.9941406 L 21.001953 6.9941406 C 21.554953 6.9941406 22.001953 6.5471406 22.001953 5.9941406 C 22.001953 5.4421406 21.553953 4.9941406 21.001953 4.9941406 L 20.001953 4.9941406 L 20.001953 3.9941406 C 20.001953 2.3491708 18.646923 0.99414064 17.001953 0.99414062 z M 17.001953 2.9941406 C 17.566983 2.9941406 18.001953 3.4291105 18.001953 3.9941406 L 18.001953 4.9941406 L 16.001953 4.9941406 L 16.001953 3.9941406 C 16.001953 3.4291105 16.436923 2.9941406 17.001953 2.9941406 z M 7.0019531 6.9941406 C 5.3569833 6.9941406 4.0019531 8.3491708 4.0019531 9.9941406 L 4.0019531 10.994141 L 3.0019531 10.994141 C 2.4499531 10.994141 2.0019531 11.442141 2.0019531 11.994141 C 2.0019531 12.546141 2.4499531 12.994141 3.0019531 12.994141 L 4.0019531 12.994141 L 4.0019531 13.994141 C 4.0019531 15.63911 5.3569833 16.994141 7.0019531 16.994141 C 8.646923 16.994141 10.001953 15.63911 10.001953 13.994141 L 10.001953 12.994141 L 11.001953 12.994141 C 11.554953 12.994141 12.001953 12.547141 12.001953 11.994141 C 12.001953 11.442141 11.553953 10.994141 11.001953 10.994141 L 10.001953 10.994141 L 10.001953 9.9941406 C 10.001953 8.3491708 8.646923 6.9941406 7.0019531 6.9941406 z M 16.001953 6.9941406 L 18.001953 6.9941406 L 18.001953 7.9941406 C 18.001953 8.5591708 17.566983 8.9941406 17.001953 8.9941406 C 16.436923 8.9941406 16.001953 8.5591708 16.001953 7.9941406 L 16.001953 6.9941406 z M 7.0019531 8.9941406 C 7.5669833 8.9941406 8.0019531 9.4291105 8.0019531 9.9941406 L 8.0019531 10.994141 L 6.0019531 10.994141 L 6.0019531 9.9941406 C 6.0019531 9.4291105 6.436923 8.9941406 7.0019531 8.9941406 z M 6.0019531 12.994141 L 8.0019531 12.994141 L 8.0019531 13.994141 C 8.0019531 14.559171 7.5669833 14.994141 7.0019531 14.994141 C 6.436923 14.994141 6.0019531 14.559171 6.0019531 13.994141 L 6.0019531 12.994141 z M 17.001953 12.994141 C 15.356983 12.994141 14.001953 14.349171 14.001953 15.994141 L 14.001953 16.994141 L 13.001953 16.994141 C 12.449953 16.994141 12.001953 17.442141 12.001953 17.994141 C 12.001953 18.546141 12.449953 18.994141 13.001953 18.994141 L 14.001953 18.994141 L 14.001953 19.994141 C 14.001953 21.63911 15.356983 22.994141 17.001953 22.994141 C 18.646923 22.994141 20.001953 21.63911 20.001953 19.994141 L 20.001953 18.994141 L 21.001953 18.994141 C 21.554953 18.994141 22.001953 18.547141 22.001953 17.994141 C 22.001953 17.442141 21.553953 16.994141 21.001953 16.994141 L 20.001953 16.994141 L 20.001953 15.994141 C 20.001953 14.349171 18.646923 12.994141 17.001953 12.994141 z M 17.001953 14.994141 C 17.566983 14.994141 18.001953 15.42911 18.001953 15.994141 L 18.001953 16.994141 L 16.001953 16.994141 L 16.001953 15.994141 C 16.001953 15.42911 16.436923 14.994141 17.001953 14.994141 z M 16.001953 18.994141 L 18.001953 18.994141 L 18.001953 19.994141 C 18.001953 20.559171 17.566983 20.994141 17.001953 20.994141 C 16.436923 20.994141 16.001953 20.559171 16.001953 19.994141 L 16.001953 18.994141 z"/>\n            </svg>\n           ':"main"===t?'\n            <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M 12 2 A 1 1 0 0 0 11.289062 2.296875 L 1.203125 11.097656 A 0.5 0.5 0 0 0 1 11.5 A 0.5 0.5 0 0 0 1.5 12 L 4 12 L 4 20 C 4 20.552 4.448 21 5 21 L 9 21 C 9.552 21 10 20.552 10 20 L 10 14 L 14 14 L 14 20 C 14 20.552 14.448 21 15 21 L 19 21 C 19.552 21 20 20.552 20 20 L 20 12 L 22.5 12 A 0.5 0.5 0 0 0 23 11.5 A 0.5 0.5 0 0 0 22.796875 11.097656 L 12.716797 2.3027344 A 1 1 0 0 0 12.710938 2.296875 A 1 1 0 0 0 12 2 z"/> />\n            </svg>\n           ':"config"===t?'\n            <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M 8 1 C 7.448 1 7 1.448 7 2 L 7 3 L 9 3 L 9 2 C 9 1.448 8.552 1 8 1 z M 12 1 C 11.448 1 11 1.448 11 2 L 11 3 L 13 3 L 13 2 C 13 1.448 12.552 1 12 1 z M 16 1 C 15.448 1 15 1.448 15 2 L 15 3 L 17 3 L 17 2 C 17 1.448 16.552 1 16 1 z M 7 5 C 5.897 5 5 5.897 5 7 L 5 17 C 5 18.103 5.897 19 7 19 L 17 19 C 18.103 19 19 18.103 19 17 L 19 7 C 19 5.897 18.103 5 17 5 L 7 5 z M 2 7 C 1.448 7 1 7.448 1 8 C 1 8.552 1.448 9 2 9 L 3 9 L 3 7 L 2 7 z M 21 7 L 21 9 L 22 9 C 22.552 9 23 8.552 23 8 C 23 7.448 22.552 7 22 7 L 21 7 z M 10.5 10 L 13.5 10 C 13.776 10 14 10.224 14 10.5 L 14 13.5 C 14 13.776 13.776 14 13.5 14 L 10.5 14 C 10.224 14 10 13.776 10 13.5 L 10 10.5 C 10 10.224 10.224 10 10.5 10 z M 2 11 C 1.448 11 1 11.448 1 12 C 1 12.552 1.448 13 2 13 L 3 13 L 3 11 L 2 11 z M 21 11 L 21 13 L 22 13 C 22.552 13 23 12.552 23 12 C 23 11.448 22.552 11 22 11 L 21 11 z M 2 15 C 1.448 15 1 15.448 1 16 C 1 16.552 1.448 17 2 17 L 3 17 L 3 15 L 2 15 z M 21 15 L 21 17 L 22 17 C 22.552 17 23 16.552 23 16 C 23 15.448 22.552 15 22 15 L 21 15 z M 7 21 L 7 22 C 7 22.552 7.448 23 8 23 C 8.552 23 9 22.552 9 22 L 9 21 L 7 21 z M 11 21 L 11 22 C 11 22.552 11.448 23 12 23 C 12.552 23 13 22.552 13 22 L 13 21 L 11 21 z M 15 21 L 15 22 C 15 22.552 15.448 23 16 23 C 16.552 23 17 22.552 17 22 L 17 21 L 15 21 z"/>\n            </svg>\n           ':"controllers"===t?'\n            <svg class="controllers" '+n+s+'">\n                <path '+a+'\n                d="M19.184 15H4.816C3.815 15 3 15.814 3 16.816v2.367C3 20.186 3.815 21 4.816 21h14.367C20.185 21 21 20.186 21 19.184v-2.367C21 15.814 20.185 15 19.184 15zM11 8.816V13h2V8.816C14.161 8.402 15 7.302 15 6c0-1.654-1.346-3-3-3S9 4.346 9 6C9 7.302 9.839 8.402 11 8.816zM8.723 13C8.376 12.405 7.738 12 7 12c-.738 0-1.376.405-1.723 1H8.723z"/>\n            </svg>\n           ':"hardware"===t?'\n            <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M 10.490234 2 C 10.011234 2 9.6017656 2.3385938 9.5097656 2.8085938 L 9.1757812 4.5234375 C 8.3550224 4.8338012 7.5961042 5.2674041 6.9296875 5.8144531 L 5.2851562 5.2480469 C 4.8321563 5.0920469 4.33375 5.2793594 4.09375 5.6933594 L 2.5859375 8.3066406 C 2.3469375 8.7216406 2.4339219 9.2485 2.7949219 9.5625 L 4.1132812 10.708984 C 4.0447181 11.130337 4 11.559284 4 12 C 4 12.440716 4.0447181 12.869663 4.1132812 13.291016 L 2.7949219 14.4375 C 2.4339219 14.7515 2.3469375 15.278359 2.5859375 15.693359 L 4.09375 18.306641 C 4.33275 18.721641 4.8321562 18.908906 5.2851562 18.753906 L 6.9296875 18.1875 C 7.5958842 18.734206 8.3553934 19.166339 9.1757812 19.476562 L 9.5097656 21.191406 C 9.6017656 21.661406 10.011234 22 10.490234 22 L 13.509766 22 C 13.988766 22 14.398234 21.661406 14.490234 21.191406 L 14.824219 19.476562 C 15.644978 19.166199 16.403896 18.732596 17.070312 18.185547 L 18.714844 18.751953 C 19.167844 18.907953 19.66625 18.721641 19.90625 18.306641 L 21.414062 15.691406 C 21.653063 15.276406 21.566078 14.7515 21.205078 14.4375 L 19.886719 13.291016 C 19.955282 12.869663 20 12.440716 20 12 C 20 11.559284 19.955282 11.130337 19.886719 10.708984 L 21.205078 9.5625 C 21.566078 9.2485 21.653063 8.7216406 21.414062 8.3066406 L 19.90625 5.6933594 C 19.66725 5.2783594 19.167844 5.0910937 18.714844 5.2460938 L 17.070312 5.8125 C 16.404116 5.2657937 15.644607 4.8336609 14.824219 4.5234375 L 14.490234 2.8085938 C 14.398234 2.3385937 13.988766 2 13.509766 2 L 10.490234 2 z M 12 8 C 14.209 8 16 9.791 16 12 C 16 14.209 14.209 16 12 16 C 9.791 16 8 14.209 8 12 C 8 9.791 9.791 8 12 8 z"/>\n            </svg>\n           ':"tools"===t?'\n            <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M 17.957031 3 C 17.656406 3.00325 17.34675 3.0406406 17.03125 3.1191406 C 15.46625 3.5101406 14.245156 4.8570312 14.035156 6.4570312 C 13.932064 7.2415462 14.061985 7.988566 14.357422 8.6425781 L 4.5859375 18.414062 C 4.0339375 18.966062 4.0339375 19.862062 4.5859375 20.414062 C 5.1379375 20.966062 6.0339375 20.966062 6.5859375 20.414062 L 12.128906 14.871094 L 17.453125 20.197266 C 18.210125 20.954266 19.439266 20.954266 20.197266 20.197266 C 20.954266 19.439266 20.954266 18.210125 20.197266 17.453125 L 14.871094 12.128906 L 16.357422 10.642578 C 17.011409 10.937868 17.758661 11.067611 18.542969 10.964844 C 20.142969 10.754844 21.489859 9.53375 21.880859 7.96875 C 22.038859 7.33775 22.033156 6.7319219 21.910156 6.1699219 C 21.826156 5.7879219 21.333641 5.6663594 21.056641 5.9433594 L 20 7 C 19.448 7.552 18.552 7.552 18 7 C 17.448 6.448 17.448 5.552 18 5 L 19.056641 3.9433594 C 19.333641 3.6663594 19.212078 3.1738438 18.830078 3.0898438 C 18.549078 3.0283437 18.257656 2.99675 17.957031 3 z M 5.0292969 3.2910156 C 4.8055469 3.3132656 4.5884219 3.4115781 4.4199219 3.5800781 L 3.5800781 4.4199219 C 3.2430781 4.7569219 3.1900781 5.2846406 3.4550781 5.6816406 L 4.40625 7.109375 C 4.77725 7.666375 5.4023125 8 6.0703125 8 L 6.5859375 8 L 9.2929688 10.707031 L 10.707031 9.2929688 L 8 6.5859375 L 8 6.0703125 C 8 5.4023125 7.666375 4.77625 7.109375 4.40625 L 5.6816406 3.4550781 C 5.4831406 3.3225781 5.2530469 3.2687656 5.0292969 3.2910156 z"/>\n            </svg>\n           ':"notification"===t?'\n            <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M 12 2 C 11.172 2 10.5 2.672 10.5 3.5 L 10.5 4.1953125 C 7.9131836 4.862095 6 7.2048001 6 10 L 6 16 L 4.4648438 17.15625 L 4.4628906 17.15625 A 1 1 0 0 0 4 18 A 1 1 0 0 0 5 19 L 12 19 L 19 19 A 1 1 0 0 0 20 18 A 1 1 0 0 0 19.537109 17.15625 L 18 16 L 18 10 C 18 7.2048001 16.086816 4.862095 13.5 4.1953125 L 13.5 3.5 C 13.5 2.672 12.828 2 12 2 z M 10 20 C 10 21.1 10.9 22 12 22 C 13.1 22 14 21.1 14 20 L 10 20 z"/>\n            </svg>\n       ':"rules"===t?'\n            <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M 3 3 C 1.9069372 3 1 3.9069372 1 5 L 1 19 C 1 20.093063 1.9069372 21 3 21 L 4 21 A 1.0001 1.0001 0 1 0 4 19 L 3 19 L 3 5 L 4 5 A 1.0001 1.0001 0 1 0 4 3 L 3 3 z M 20 3 A 1.0001 1.0001 0 1 0 20 5 L 21 5 L 21 19 L 20 19 A 1.0001 1.0001 0 1 0 20 21 L 21 21 C 22.093063 21 23 20.093063 23 19 L 23 5 C 23 3.9069372 22.093063 3 21 3 L 20 3 z M 6 7 A 1.0001 1.0001 0 1 0 6 9 L 18 9 A 1.0001 1.0001 0 1 0 18 7 L 6 7 z M 6 11 A 1.0001 1.0001 0 1 0 6 13 L 15 13 A 1.0001 1.0001 0 1 0 15 11 L 6 11 z M 6 15 A 1.0001 1.0001 0 1 0 6 17 L 18 17 A 1.0001 1.0001 0 1 0 18 15 L 6 15 z"/>\n            </svg>\n       ':"devices"===t?'\n           <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M 4.9902344 0.99023438 A 1.0001 1.0001 0 0 0 4.2929688 2.7070312 L 11.292969 9.7070312 A 1 1 0 0 0 11.355469 9.765625 A 1.0001 1.0001 0 0 0 12.716797 8.3027344 A 1 1 0 0 0 12.707031 8.2929688 L 9.7988281 5.3847656 C 12.232287 4.5727495 15.015912 5.116596 16.949219 7.0507812 C 19.678219 9.7797813 19.678219 14.220219 16.949219 16.949219 C 14.219219 19.678219 9.7807812 19.678219 7.0507812 16.949219 C 4.5167813 14.415219 4.3397656 10.409062 6.5097656 7.6640625 L 2.6015625 3.7324219 C 1.7085625 4.6624219 1.7177969 6.1417187 2.5917969 7.0117188 L 3.8300781 8.3359375 L 3.6191406 8.7597656 C 2.738699 11.044231 2.8366832 13.610028 3.8828125 15.837891 L 2.6972656 16.939453 C 2.2482656 17.388453 2 17.985141 2 18.619141 C 2 19.254141 2.2473125 19.851781 2.6953125 20.300781 C 3.6233125 21.228781 5.1316719 21.226797 6.0136719 20.341797 L 6.9609375 19.453125 C 8.4775766 20.479063 10.238145 20.996094 12 20.996094 C 13.761855 20.996094 15.522423 20.479235 17.039062 19.453125 L 17.986328 20.341797 C 18.868328 21.226797 20.376687 21.228781 21.304688 20.300781 C 21.752687 19.851781 22 19.254141 22 18.619141 C 22 17.985141 21.751734 17.388453 21.302734 16.939453 L 20.125 15.845703 C 21.271906 13.415297 21.271196 10.58035 20.123047 8.1503906 L 21.302734 7.0566406 C 21.751734 6.6076406 22 6.0109531 22 5.3769531 C 22 4.7429531 21.752687 4.1443125 21.304688 3.6953125 C 20.376687 2.7673125 18.868328 2.7692969 17.986328 3.6542969 L 17.033203 4.5449219 C 14.416413 2.7805372 11.075699 2.5534632 8.2597656 3.8457031 L 5.7070312 1.2929688 A 1.0001 1.0001 0 0 0 4.9902344 0.99023438 z M 10 12 A 1.0001 1.0001 0 1 0 10 14 L 14 14 A 1.0001 1.0001 0 1 0 14 12 L 10 12 z M 10 15 A 1.0001 1.0001 0 1 0 10 17 L 12 17 A 1.0001 1.0001 0 1 0 12 15 L 10 15 z"/>\n            </svg>\n       ':"minimize"===t?'\n           <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M20.26,12.948l-7.15-4.766c-0.672-0.448-1.547-0.448-2.219,0l-7.15,4.766C3.278,13.257,3,13.777,3,14.333l0,0 c0,1.329,1.481,2.121,2.587,1.384L12,11.442l6.413,4.276C19.519,16.455,21,15.662,21,14.333l0,0 C21,13.776,20.722,13.257,20.26,12.948z"/>\n            </svg>\n       ':"maximize"===t?'\n           <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M21,11.109L21,11.109c0-1.329-1.481-2.122-2.587-1.385L12,14L5.587,9.725C4.481,8.988,3,9.78,3,11.109v0 c0,0.556,0.278,1.076,0.741,1.385l7.15,4.766c0.672,0.448,1.547,0.448,2.219,0l7.15-4.766C20.722,12.185,21,11.666,21,11.109z"/>\n            </svg>\n       ':"reboot"===t?'\n           <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M 11.84375 2 C 11.304688 2.011719 10.757813 2.058594 10.203125 2.15625 C 6.175781 2.863281 2.917969 6.082031 2.175781 10.105469 C 1.003906 16.449219 5.863281 22 12 22 C 17.136719 22 21.378906 18.109375 21.9375 13.121094 C 22.003906 12.523438 21.539063 12 20.9375 12 C 20.4375 12 20.007813 12.367188 19.953125 12.863281 C 19.519531 16.871094 16.117188 20 12 20 C 7.058594 20 3.148438 15.496094 4.160156 10.378906 C 4.769531 7.300781 7.234375 4.8125 10.308594 4.175781 C 13.171875 3.585938 15.835938 4.546875 17.644531 6.359375 L 16.214844 7.789063 C 15.765625 8.234375 16.082031 9 16.71875 9 L 21 9 C 21.550781 9 22 8.550781 22 8 L 22 3.71875 C 22 3.082031 21.234375 2.765625 20.785156 3.210938 L 19.058594 4.945313 C 17.214844 3.097656 14.660156 1.957031 11.84375 2 Z "/>\n            </svg>\n       ':"wificonnect"===t?'\n           <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M 12 5 C 8.410156 5 5.117188 6.261719 2.539063 8.359375 C 1.894531 8.882813 1.855469 9.855469 2.445313 10.441406 C 2.929688 10.929688 3.703125 10.992188 4.257813 10.582031 C 6.417969 8.964844 9.097656 8 12 8 C 14.902344 8 17.582031 8.964844 19.746094 10.582031 C 20.296875 10.996094 21.070313 10.929688 21.558594 10.441406 C 22.144531 9.855469 22.105469 8.882813 21.464844 8.359375 C 18.882813 6.257813 15.589844 5 12 5 Z M 12 10 C 9.890625 10 7.925781 10.601563 6.25 11.636719 C 5.429688 12.144531 5.292969 13.292969 5.976563 13.976563 C 6.472656 14.472656 7.238281 14.539063 7.839844 14.171875 C 9.054688 13.429688 10.476563 13 12 13 C 13.53125 13 14.960938 13.433594 16.175781 14.183594 C 16.765625 14.542969 17.523438 14.476563 18.011719 13.988281 L 18.039063 13.960938 C 18.71875 13.28125 18.582031 12.15625 17.773438 11.652344 C 16.09375 10.605469 14.117188 10 12 10 Z M 12 15 C 11.09375 15 10.238281 15.203125 9.46875 15.566406 C 8.839844 15.863281 8.695313 16.695313 9.1875 17.1875 L 10.96875 18.96875 C 11.539063 19.539063 12.460938 19.539063 13.03125 18.96875 L 14.8125 17.1875 C 15.304688 16.695313 15.160156 15.863281 14.53125 15.566406 C 13.761719 15.203125 12.90625 15 12 15 Z M 22.585938 17.292969 C 22.328125 17.292969 22.074219 17.390625 21.878906 17.585938 L 18.292969 21.171875 L 16.707031 19.585938 C 16.316406 19.195313 15.683594 19.195313 15.292969 19.585938 C 14.902344 19.976563 14.902344 20.609375 15.292969 21 L 17.585938 23.292969 C 17.976563 23.683594 18.609375 23.683594 19 23.292969 L 23.292969 19 C 23.683594 18.609375 23.683594 17.976563 23.292969 17.585938 C 23.097656 17.390625 22.84375 17.292969 22.585938 17.292969 Z "/>\n            </svg>\n       ':"wifidisconnect"===t?'\n           <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M 2.992188 1.992188 C 2.582031 1.992188 2.21875 2.238281 2.0625 2.613281 C 1.910156 2.992188 2 3.421875 2.292969 3.707031 L 5.21875 6.632813 C 4.261719 7.117188 3.359375 7.691406 2.539063 8.359375 C 1.894531 8.882813 1.855469 9.855469 2.445313 10.441406 C 2.929688 10.929688 3.703125 10.992188 4.257813 10.582031 C 5.222656 9.859375 6.296875 9.289063 7.445313 8.859375 L 9.03125 10.449219 C 8.042969 10.71875 7.105469 11.109375 6.25 11.636719 C 5.429688 12.144531 5.292969 13.292969 5.976563 13.976563 C 6.472656 14.472656 7.238281 14.542969 7.839844 14.171875 C 8.949219 13.492188 10.238281 13.09375 11.613281 13.027344 L 13.898438 15.3125 C 13.300781 15.113281 12.664063 15 12 15 C 11.09375 15 10.238281 15.203125 9.46875 15.566406 C 8.839844 15.863281 8.695313 16.695313 9.1875 17.1875 L 10.96875 18.96875 C 11.539063 19.539063 12.460938 19.539063 13.03125 18.96875 L 14.8125 17.1875 C 15.003906 16.996094 15.097656 16.761719 15.109375 16.519531 L 20.292969 21.707031 C 20.542969 21.96875 20.917969 22.074219 21.265625 21.980469 C 21.617188 21.890625 21.890625 21.617188 21.980469 21.265625 C 22.074219 20.917969 21.96875 20.542969 21.707031 20.292969 L 3.707031 2.292969 C 3.519531 2.097656 3.261719 1.992188 2.992188 1.992188 Z M 12 5 C 11.136719 5 10.289063 5.078125 9.464844 5.21875 L 12.257813 8.011719 C 15.0625 8.066406 17.644531 9.015625 19.746094 10.582031 C 20.296875 10.996094 21.070313 10.929688 21.558594 10.441406 C 22.144531 9.855469 22.105469 8.882813 21.464844 8.359375 C 18.882813 6.257813 15.589844 5 12 5 Z M 14.558594 10.308594 L 18.113281 13.863281 C 18.695313 13.179688 18.546875 12.132813 17.773438 11.652344 C 16.792969 11.042969 15.707031 10.585938 14.558594 10.308594 Z "/>\n            </svg>\n       ':"close"===t?'\n           <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M 5.9902344 4.9902344 A 1.0001 1.0001 0 0 0 5.2929688 6.7070312 L 10.585938 12 L 5.2929688 17.292969 A 1.0001 1.0001 0 1 0 6.7070312 18.707031 L 12 13.414062 L 17.292969 18.707031 A 1.0001 1.0001 0 1 0 18.707031 17.292969 L 13.414062 12 L 18.707031 6.7070312 A 1.0001 1.0001 0 0 0 17.980469 4.9902344 A 1.0001 1.0001 0 0 0 17.292969 5.2929688 L 12 10.585938 L 6.7070312 5.2929688 A 1.0001 1.0001 0 0 0 5.9902344 4.9902344 z"/>\n            </svg>\n       ':"trash"===t?'\n           <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M 10 2 L 9 3 L 4 3 L 4 5 L 20 5 L 20 3 L 15 3 L 14 2 L 10 2 z M 5 7 L 5 20 C 5 21.1 5.9 22 7 22 L 17 22 C 18.1 22 19 21.1 19 20 L 19 7 L 5 7 z M 8 9 L 10 9 L 10 20 L 8 20 L 8 9 z M 14 9 L 16 9 L 16 20 L 14 20 L 14 9 z"/>\n            </svg>\n       ':"copy"===t?'\n           <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M 4 2 C 2.895 2 2 2.895 2 4 L 2 17 C 2 17.552 2.448 18 3 18 C 3.552 18 4 17.552 4 17 L 4 4 L 17 4 C 17.552 4 18 3.552 18 3 C 18 2.448 17.552 2 17 2 L 4 2 z M 8 6 C 6.895 6 6 6.895 6 8 L 6 20 C 6 21.105 6.895 22 8 22 L 20 22 C 21.105 22 22 21.105 22 20 L 22 8 C 22 6.895 21.105 6 20 6 L 8 6 z M 8 8 L 20 8 L 20 20 L 8 20 L 8 8 z"/>\n            </svg>\n       ':"screenshot"===t?'\n           <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M 14.119141 1.9980469 L 9.8769531 2.0019531 C 9.3179531 2.0019531 8.7832969 2.2364375 8.4042969 2.6484375 L 7.1640625 4 L 4 4 C 2.9 4 2 4.9 2 6 L 2 18 C 2 19.1 2.9 20 4 20 L 20 20 C 21.1 20 22 19.1 22 18 L 22 6 C 22 4.9 21.1 4 20 4 L 16.841797 4 L 15.59375 2.6445312 C 15.21475 2.2325313 14.679141 1.9980469 14.119141 1.9980469 z M 12 7 C 14.8 7 17 9.2 17 12 C 17 14.8 14.8 17 12 17 C 9.2 17 7 14.8 7 12 C 7 9.2 9.2 7 12 7 z M 12 9 A 3 3 0 0 0 9 12 A 3 3 0 0 0 12 15 A 3 3 0 0 0 15 12 A 3 3 0 0 0 12 9 z"/>\n            </svg>\n       ':"location"===t?'\n           <svg class="'+t+'" '+n+s+'">\n                <path '+a+'\n                d="M 20 0 C 17.791 0 16 1.791 16 4 C 16 6.062 18.082188 8.7932969 19.242188 10.154297 C 19.641188 10.622297 20.358812 10.622297 20.757812 10.154297 C 21.916813 8.7932969 24 6.062 24 4 C 24 1.791 22.209 0 20 0 z M 12 2 C 8.739 2 5.8465312 3.577 4.0195312 6 L 4 6 L 4 6.0253906 C 2.429 8.1233906 1.6473438 10.844812 2.1523438 13.757812 C 2.8553437 17.812812 6.0867187 21.094078 10.136719 21.830078 C 16.465719 22.979078 22 18.124 22 12 C 22 11.93 21.991234 11.861969 21.990234 11.792969 C 21.753234 12.058969 21.557453 12.267672 21.439453 12.388672 L 19.681641 14.216797 C 19.335641 15.413797 18.712531 16.491672 17.894531 17.388672 C 17.635531 16.584672 16.89 16 16 16 L 15 16 L 15 14 C 15 12.895 14.105 12 13 12 L 10 12 C 9.448 12 9 11.552 9 11 C 9 10.448 9.448 10 10 10 C 10.552 10 11 9.552 11 9 L 11 8 C 11 7.448 11.448 7 12 7 L 13 7 C 13.589 7 14.114469 6.7409375 14.480469 6.3359375 C 14.188469 5.5549375 14 4.762 14 4 C 14 3.397 14.090812 2.8165781 14.257812 2.2675781 C 13.530813 2.0985781 12.777 2 12 2 z M 20 2.5703125 C 20.789 2.5703125 21.429688 3.211 21.429688 4 C 21.429688 4.789 20.789 5.4296875 20 5.4296875 C 19.211 5.4296875 18.570312 4.789 18.570312 4 C 18.570312 3.211 19.211 2.5703125 20 2.5703125 z M 4.2109375 10.210938 L 6 12 L 9 15 L 9 16 C 9 17.105 9.895 18 11 18 L 11 19.931641 C 7.06 19.436641 4 16.072 4 12 C 4 11.384 4.0779375 10.786937 4.2109375 10.210938 z"/>\n            </svg>\n       ':""},guiEasy.curly.forms=function(e){return guiEasy.curly.forms[e.type](e)},guiEasy.curly.forms.toggle=function(e){let t="",n=e.args[2].split("|");return t+='\n            <input\n                type="checkbox"\n                id="task-_tasknumber_-'+e.args[1]+'"\n                data-alt="settings-change"\n                data-true-text="'+helpEasy.capitalWord(n[0])+'"\n                data-false-text="'+helpEasy.capitalWord(n[1])+'"\n                data-default-value="'+(void 0!==e.args[3])+'"\n                data-settings-path="'+e.args[0]+'"\n            >\n            <label\n                for="task-_tasknumber_-'+e.args[1]+'"\n                tabindex="0"\n            >\n            </label>\n        '},guiEasy.curly.forms.number=function(e){let t="",n="";return void 0!==e.args[4]&&'"'!==e.args[4]&&(n+=' min="'+e.args[4]+'"'),void 0!==e.args[5]&&'"'!==e.args[5]&&(n+=' max="'+e.args[5]+'"'),void 0!==e.args[6]&&'"'!==e.args[6]&&(n+=' step="'+e.args[6]+'"'),t+='\n            <input\n                type="number"\n                id="task-_tasknumber_-'+e.args[1]+'"\n                data-alt="settings-change"\n                data-default-value="'+e.args[3]+'"\n                data-settings-path="'+e.args[0]+'"\n                '+n+'\n            >\n            <label\n                for="task-_tasknumber_-'+e.args[1]+'"\n                tabindex="0"\n            >\n                \n            </label>\n        '},guiEasy.scrubber=function(e,t){let n=document.getElementById("page-container").children;for(let e=0;e<n.length;e++)"container"!==n[e].className&&"top-notifier"!==n[e].className||n[e].classList.add("is-hidden");helpEasy.addToLogDOM("pageSize",1);let a=[];n=document.getElementsByName("nav-group");for(let e=0;e<n.length;e++){let t=n[e].children;for(let n=0;n<t.length;n++){let s=t[n];"nav"===s.className&&a.length<10&&e<2&&(s.accessKey="0"+(a.length+1),s.accessKey=s.accessKey.substr(-1,1),s.dataset.altKey=s.accessKey,a.push([s.attributes.name.nodeValue,s.accessKey]))}}guiEasy.tabNumber=[];for(let e=0;e<a.length;e++){let t=a[e][1];guiEasy.tabNumber[t]=a[e][0].split("-")[1]}let s=document.getElementById("modal");s.dataset.defaultView=s.innerHTML,helpEasy.addToLogDOM("pageSize",1);for(let e=0;e<a.length;e++){let t=a[e],n=document.getElementsByName(t[0]);for(let e=0;e<n.length;e++){let a=document.createElement("div");a.className="alt-popup is-hidden",a.innerText=t[1],n[e].appendChild(a)}}let l=document.createElement("div");l.id="setup-templates",l.style.display="hidden",document.body.appendChild(l);let i=["plugin","controller","notification"];for(let e=0;e<i.length;e++){let t=document.getElementById("setup-templates");for(let n=1;n<999;n++){let a=guiEasy.forms(i[e],n);null===a?n=999:t.dataset[i[e]+n]=a}}helpEasy.addToLogDOM("pageSize",1),helpEasy.processDone(e,t)},guiEasy.popper=function(e,t){setInterval(guiEasy.popper.tryCallEvent.counter,5),guiEasy.popper.events(),guiEasy.popper.rules(),guiEasy.popper.favicon(),helpEasy.addToLogDOM("pageSize",1),helpEasy.processDone(e,t)},guiEasy.popper.events=function(){document.addEventListener(guiEasy.geekName(),guiEasy.popper.guiEvent,!1),document.addEventListener("keydown",guiEasy.popper.keyboard,!1),document.addEventListener("input",guiEasy.popper.input,!1),document.addEventListener("keyup",guiEasy.popper.keyboard,!1),document.addEventListener("click",guiEasy.popper.click,!0),document.addEventListener("change",guiEasy.popper.change,!0),document.addEventListener("focusout",guiEasy.popper.focus,!0)},guiEasy.popper.focus=function(e){if(void 0===e.target.dataset.focus)return;let t=e.target.dataset.focus.split("-");if(void 0!==t){let n={type:t[0],args:t,x:e.x,y:e.y};setTimeout(function(){guiEasy.popper.tryCallEvent(n)},250)}},guiEasy.popper.input=function(e){let t=e.target.dataset,n={type:"update",newValue:e.target.value,newState:e.target.checked,placeholder:e.target.placeholder,args:t};void 0!==n.type&&guiEasy.popper.tryCallEvent(n)},guiEasy.popper.change=function(e){let t=e.target.dataset,n={type:"update",newValue:e.target.value,newState:e.target.checked,placeholder:e.target.placeholder,index:e.target.selectedIndex,args:t};void 0!==n.type&&guiEasy.popper.tryCallEvent(n)},guiEasy.popper.keyboard=function(e){let t={type:"shortcut",object:e.key,state:e.type,key:e.code,ctrl:e.ctrlKey,alt:e.altKey,event:e};void 0!==t.type&&guiEasy.popper.tryCallEvent(t)},guiEasy.popper.click=function(e){if(void 0===e.target.dataset.click)return;let t=e.target.dataset.click.split("-"),n=e.target.dataset;if(void 0!==t){let a={type:t[0],args:t,dataset:n,x:e.x,y:e.y};guiEasy.popper.tryCallEvent(a)}},guiEasy.popper.guiEvent=function(e){helpEasy.addToLogDOM(JSON.stringify(e.detail),2);let t=e.detail;guiEasy.popper[t.type](t)},guiEasy.popper.tryCallEvent=function(e){guiEasy.guiStats.eventCalls<10&&(guiEasy.guiStats.eventCalls++,helpEasy.addToLogDOM("Calling custom event: "+JSON.stringify(e),2),document.dispatchEvent(new CustomEvent(guiEasy.geekName(),{detail:e})))},guiEasy.popper.tryCallEvent.counter=function(){guiEasy.guiStats.eventCalls>0&&guiEasy.guiStats.eventCalls--},guiEasy.popper.clipboard=function(e){console.log(e)},guiEasy.popper.command=function(e){let t=JSON.parse(e.dataset.args.replace(/'/g,'"')),n="http://"+guiEasy.nodes[helpEasy.getCurrentIndex()].ip+"/?cmd=",a=e.args[1],s=t.waveText,l=t.color;"reboot"===a?helpEasy.schedulerDelay(guiEasy.nodes,helpEasy.getCurrentIndex(),15e3):helpEasy.schedulerDelay(guiEasy.nodes,helpEasy.getCurrentIndex(),3e4),fetch(n+a).then(e=>{helpEasy.addToLogDOM("response: "+e,2);let t={type:"wave",text:s,color:l};guiEasy.popper.tryCallEvent(t)})},guiEasy.popper.topNotifier=function(e,t,n,a){let s=guiEasy.nodes[helpEasy.getCurrentIndex()].notifierID;if(void 0===s&&(guiEasy.nodes[helpEasy.getCurrentIndex()].notifierID=e),s!==e){guiEasy.nodes[helpEasy.getCurrentIndex()].notifierID=e;let s=document.getElementById("top-notifier");if(""!==s.innerHTML&&s.click(),s.innerHTML=t,s.classList.add("main-"+n),"internetDown"===e&&s.classList.add("no-click"),s.addEventListener("click",function(){s.classList.add("is-hidden"),s.innerHTML="",guiEasy.nodes[helpEasy.getCurrentIndex()].notifierID="",s.classList.remove("no-click"),s.classList.remove("main-"+n)}),a>0){guiEasy.nodes[helpEasy.getCurrentIndex()].notifierID=e,s.innerHTML="<div id='countdown-bar'></div>"+s.innerHTML;let t=document.getElementById("countdown-bar"),n=1;t.setAttribute("style","width: 0.1%");let l=setInterval(function(){n++,t.setAttribute("style","width:"+Math.round(n/a*100)+"%"),n===a&&clearInterval(l)},1e3);setTimeout(function(){s.click()},1001*a)}s.classList.remove("is-hidden")}},guiEasy.popper.tab=function(e){let t=e.args[1];void 0===t&&(t="main");let n=parseInt(t);n>-1&&(t=guiEasy.tabNumber[n]),n=guiEasy.tabNumber.indexOf(t),guiEasy.current.tabNumber=n,guiEasy.current.tab=document.getElementById(t+"-container");let a=document.getElementsByClassName("container");for(let e=0;e<a.length;e++){let n=a[e].id.split("-")[0];a[e].classList.add("is-hidden"),n===t&&(a[e].classList.remove("is-hidden"),window.scrollTo(0,0))}a=document.getElementsByClassName("nav");for(let e=0;e<a.length;e++){let n=a[e].dataset;"true"===n.highlight&&a[e].classList.remove("nav-selected"),n.tab===t&&a[e].classList.add("nav-selected")}helpEasy.addToLogDOM("tab open: "+t,1)},guiEasy.popper.menu=function(e){let t=e.args[1],n=e.args[2];if("action"===t){let e=document.getElementById("menu-button-list"),t=document.getElementById("menu-button");"close"===n&&(e.classList.add("closed"),t.classList.add("is-inactive")),"toggle"===n&&(e.classList.toggle("closed"),t.classList.toggle("is-inactive"))}helpEasy.addToLogDOM("menu: "+t,1)},guiEasy.popper.modal=function(e){let t=e.args[1],n=e.args[2],a=helpEasy.getCurrentIndex(),s={nah:"add",yep:"remove"},l={modal:"nah",input:{string:"nah",textarea:"nah",upload:"nah"},button:{ok:"nah",cancel:"nah",close:"nah",rescan:"nah",copy:"nah",location:"nah",custom:"nah"},action:{ok:null,cancel:"modal-close",close:"modal-close",rescan:null,copy:"modal-copy",upload:null,location:"update-location",custom:null},countdown:0,info:null,table:null,setup:null,title:null,upload:{max:null,free:null,title:null,types:null},custom:null};if(void 0===guiEasy.current.modal&&(guiEasy.current.modal=document.getElementById("modal-view")),"close"===t?(void 0!==guiEasy.current.modal&&guiEasy.current.modal.remove(),document.getElementById("modal").innerHTML=document.getElementById("modal").dataset.defaultView,document.body.classList.remove("modal")):document.body.classList.add("modal"),"theme"===t&&"import"===n&&(l.modal="yep",l.input.textarea="yep",l.button.close="yep",l.button.ok="yep",l.action.ok="theme-import-modal_input_textarea",l.title="please enter theme settings"),"theme"===t&&"copy"===n&&(l.modal="yep",l.title="added to clipboard!",l.info="<div class='is-center logo-animation'>"+guiEasy.curly.logo(["big"])+"</div>",l.countdown=3),"wifi"===t&&"scanner"===n&&(l.modal="yep",l.button.close="yep",l.button.copy="yep",l.action.copy="copy-wifi",l.title="found wifi networks",l.table=guiEasy.nodes[a].modal.table.wifi),"i2c"===t&&"scanner"===n&&(l.modal="yep",l.button.close="yep",l.title="found i2c hardware"),"files"===t&&"table"===n){let e=guiEasy.nodes[helpEasy.getCurrentIndex()].live.sysinfo_json.storage;l.modal="yep",l.button.close="yep",l.title="files on local storage",l.table=guiEasy.nodes[a].modal.table.files,l.input.upload="yep",l.action.upload="generic",l.upload.max=parseInt(e.spiffs_size),l.upload.free=parseInt(e.spiffs_free),l.upload.types=".*",l.upload.title="upload file to unit"}if("firmware"===t&&"reset"===n&&(l.modal="yep",l.button.close="yep",l.title="reset firmware",l.setup=guiEasy.popper.modal.factoryReset(),l.button.custom="yep",l.action.custom="firmware-reset-factory",l.custom={text:"factory reset",color:"warning"}),"firmware"===t&&"update"===n){let e=guiEasy.nodes[helpEasy.getCurrentIndex()].live.sysinfo_json.storage;l.modal="yep",l.button.close="yep",l.title="update firmware",l.input.upload="yep",l.action.upload="firmware",l.upload.max=parseInt(e.sketch_free)+parseInt(e.sketch_size),l.upload.free=parseInt(e.sketch_free),l.upload.types=".bin",l.upload.title="upload bin file to unit"}if("settings"===t&&"gui"===n&&(l.modal="yep",l.button.close="yep",l.title="gui settings",l.setup=guiEasy.popper.modal.settings(n),l.button.custom="yep",l.action.custom="gui-settings-save",l.custom={text:"save gui settings to file",color:"success"}),"settings"===t&&"mqtt"===n&&(l.modal="yep",l.button.close="yep",l.title="mqtt settings",l.setup=guiEasy.popper.modal.settings(n),l.button.ok="yep",l.action.ok="settings-updated"),"settings"===t&&"rules"===n&&(l.modal="yep",l.button.close="yep",l.title="rules settings",l.setup=guiEasy.popper.modal.settings(n),l.button.ok="yep",l.action.ok="settings-updated"),"settings"===t&&"p2p"===n&&(l.modal="yep",l.button.close="yep",l.title="p2p settings",l.setup=guiEasy.popper.modal.settings(n),l.button.ok="yep",l.action.ok="settings-updated"),"settings"===t&&"advanced"===n&&(l.modal="yep",l.button.close="yep",l.title="advanced settings",l.setup=guiEasy.popper.modal.settings(n),l.button.ok="yep",l.action.ok="settings-updated"),"settings"===t&&"time"===n&&(l.modal="yep",l.button.close="yep",l.title="time settings",l.setup=guiEasy.popper.modal.settings(n),l.button.ok="yep",l.action.ok="settings-updated"),"settings"===t&&"log"===n&&(l.modal="yep",l.button.close="yep",l.title="serial & log settings",l.setup=guiEasy.popper.modal.settings(n),l.button.ok="yep",l.action.ok="settings-updated"),"settings"===t&&"location"===n&&(l.modal="yep",l.button.close="yep",l.title="geolocation settings",l.setup=guiEasy.popper.modal.settings(n),l.button.ok="yep",l.action.ok="settings-updated",l.button.location="yep"),"info"===t&&"system"===n&&(l.modal="yep",l.button.close="yep",l.title="system info",l.button.copy="yep",l.action.copy="copy-system",l.table=guiEasy.nodes[a].modal.table.sysinfo_json),"info"===t&&"sysvars"===n&&(l.modal="yep",l.button.close="yep",l.title="system variables",l.button.copy="yep",l.action.copy="copy-sysvars"),"info"===t&&"timing"===n&&(l.modal="yep",l.button.close="yep",l.title="timing statistics",l.button.copy="yep",l.action.copy="copy-timing",l.table=guiEasy.nodes[a].modal.table.timingstats_json),"task"===t&&"edit"===n&&(l.modal="yep",l.button.close="yep",l.title="editing task "+e.args[0],l.button.ok="yep",l.action.ok="settings-updated",l.button.custom="yep",l.action.custom="task-delete",l.custom={text:"delete",color:"warning"}),document.getElementById("modal-container").classList[s[l.modal]]("is-hidden"),null!==l.action.ok&&(document.getElementById("modal-button-ok").dataset.click=l.action.ok),null!==l.action.cancel&&(document.getElementById("modal-button-cancel").dataset.click=l.action.cancel),null!==l.action.close&&(document.getElementById("modal-title-button-close").dataset.click=l.action.close),null!==l.action.copy&&(document.getElementById("modal-title-button-copy").dataset.click=l.action.copy),null!==l.action.location&&(document.getElementById("modal-title-button-location").dataset.click=l.action.location),document.getElementById("modal-button-ok").classList[s[l.button.ok]]("is-hidden"),document.getElementById("modal-title-button-close").classList[s[l.button.close]]("is-hidden"),document.getElementById("modal-title-button-copy").classList[s[l.button.copy]]("is-hidden"),document.getElementById("modal-title-button-location").classList[s[l.button.location]]("is-hidden"),document.getElementById("modal-button-cancel").classList[s[l.button.cancel]]("is-hidden"),document.getElementById("modal-input-string").classList[s[l.input.string]]("is-hidden"),document.getElementById("modal-input-textarea").classList[s[l.input.textarea]]("is-hidden"),document.getElementById("label-modal-input-upload-file").classList[s[l.input.upload]]("is-hidden"),"yep"===l.input.upload){if(null!==l.upload.max&&null!==l.upload.free){let e=Math.floor(l.upload.free/l.upload.max*100),t=document.getElementById("modal-input-upload-storage-free"),n=document.getElementById("modal-input-upload-storage-occupied");t.style.width=e+"%",t.innerText=l.upload.free+"kB",n.style.width=100-e+"%",n.innerText=(l.upload.max-l.upload.free).toString()+"kB"}let e=document.getElementById("modal-input-upload-file");e.dataset.typeOfUpload=l.action.upload,e.setAttribute("accept",l.upload.types),e.addEventListener("change",function(e){let t=e.target.dataset.typeOfUpload,n=e.target.files[0],a=e.target.id;helpEasy.uploadBinaryAsFile(t,n,a)},!1)}if(null!==l.custom&&(document.getElementById("modal-button-custom").classList[s[l.button.custom]]("is-hidden"),document.getElementById("modal-button-custom").dataset.click=l.action.custom,document.getElementById("modal-button-custom").innerText=helpEasy.capitalWord(l.custom.text),document.getElementById("modal-button-custom").classList.add("main-"+l.custom.color)),null!==l.upload.title&&(document.getElementById("label-modal-input-upload-file").innerText=helpEasy.capitalWord(l.upload.title)),null!==l.title&&(document.getElementById("modal-title-text").innerText=helpEasy.capitalWord(l.title)),null!==l.info&&(document.getElementById("modal-info").innerHTML=l.info),null!==l.table&&(document.getElementById("modal-table").innerHTML=l.table,document.getElementById("modal-table").classList.remove("is-hidden"),guiEasy.current.modal=document.querySelectorAll("[data-modal-table]")[0]),null!==l.setup&&(document.getElementById("modal-setup").innerHTML=l.setup,document.getElementById("modal-setup").classList.remove("is-hidden"),guiEasy.current.modal=document.querySelectorAll("[data-modal-settings-table]")[0]),helpEasy.guiUpdaterSettings("fromBrowser"),l.countdown>0){let e=document.getElementById("modal-title-button-close");document.getElementById("modal-click-area").addEventListener("click",function(){clearInterval(t),e.click()}),e.innerText=l.countdown,e.classList.add("countdown"),e.classList.remove("is-hidden");let t=setInterval(function(){let n=parseInt(e.innerText);n>1?e.innerText=(n-1).toString():(clearInterval(t),e.click())},1e3)}},guiEasy.popper.modal.settings=function(e){let t="";return t+=helpEasy.openColumn("data-modal-settings-table"),"gui"===e&&(t+=helpEasy.addInput({type:"toggle",toGuiSettings:!0,alt:"settings-change",title:"escape key",settingsId:"defaultSettings--preventDefaults--escape",settingsTrue:0,settingsFalse:1,falseText:"esc = close modals",trueText:"esc = not used",default:!0}),t+=helpEasy.addInput({type:"toggle",toGuiSettings:!0,alt:"settings-change",title:"ctrl space key",settingsId:"defaultSettings--preventDefaults--ctrl+space",settingsTrue:0,settingsFalse:1,falseText:"ctrl + space = open swarm",trueText:"ctrl + space = not used",default:!0}),t+=helpEasy.addInput({type:"toggle",toGuiSettings:!0,alt:"settings-change",title:"ctrl enter key",settingsId:"defaultSettings--preventDefaults--ctrl+enter",settingsTrue:0,settingsFalse:1,falseText:"ctrl + enter = take screenshot",trueText:"ctrl + enter = not used",default:!0}),t+=helpEasy.addInput({type:"toggle",toGuiSettings:!0,alt:"settings-change",title:"ctrl keys key",settingsId:"defaultSettings--preventDefaults--ctrl+keys",settingsTrue:0,settingsFalse:1,falseText:"ctrl + s = save settings",trueText:"ctrl + s = not used",default:!0}),t+=helpEasy.addInput({type:"toggle",toGuiSettings:!0,alt:"settings-change",title:"ctrl keyz key",settingsId:"defaultSettings--preventDefaults--ctrl+keyz",settingsTrue:0,settingsFalse:1,falseText:"ctrl + z = dismiss changes",trueText:"ctrl + z = not used",default:!0}),t+=helpEasy.addInput({type:"toggle",toGuiSettings:!0,alt:"settings-change",title:"alt digit key",settingsId:"defaultSettings--preventDefaults--alt+digit",settingsTrue:0,settingsFalse:1,falseText:"alt + digit = jump to tab",trueText:"alt + digit = not used",default:!0}),t+=helpEasy.addInput({type:"toggle",toGuiSettings:!0,alt:"settings-change",title:"alt arrow key",settingsId:"defaultSettings--preventDefaults--alt+arrows",settingsTrue:0,settingsFalse:1,falseText:"alt + l/r arrow = jump to tab",trueText:"alt + l/r arrow = not used",default:!0}),t+="<hr>",t+=helpEasy.addInput({type:"toggle",toGuiSettings:!0,alt:"settings-change",title:"minimize areas",settingsId:"defaultSettings--areasMinimized",settingsTrue:0,settingsFalse:1,falseText:"areas collapsed by default",trueText:"areas expanded by default",default:!1}),t+=helpEasy.addInput({type:"toggle",toGuiSettings:!0,alt:"settings-change",title:"show help links",settingsId:"defaultSettings--helpLinks",settingsTrue:0,settingsFalse:1,falseText:"help links = show",trueText:"help links &ne; show",default:!0}),t+=helpEasy.addInput({type:"toggle",toGuiSettings:!0,alt:"settings-change",title:"warn if internet lost",settingsId:"defaultSettings--internetLostShow",settingsTrue:0,settingsFalse:1,falseText:"notify on internet lost",trueText:"internet lost, don't care",default:!0}),t+="<hr>",t+=helpEasy.addInput({type:"dropdown",toGuiSettings:!0,alt:"settings-change",title:"syntax of copy to clipboard",settingsId:"defaultSettings--clipboardSyntax",placeholder:"",default:0,optionList:[{text:"Default",value:0,disabled:!1,note:""},{text:"GitHub",value:1,disabled:!1,note:""},{text:"phpBB",value:2,disabled:!1,note:""}]})),"p2p"===e&&(t+=helpEasy.addInput({type:"number",toSettings:!0,alt:"settings-change",title:"udp port",settingsId:"config--espnetwork--port",placeholder:"",tooltip:"8266 is the default<br>esp easy udp port.",default:8266,max:65535,min:0,step:1})),"log"===e&&(t+=helpEasy.addInput({type:"toggle",toGuiSettings:!0,alt:"settings-change",title:"enable serial",settingsId:"config--serial--enabled",settingsTrue:1,settingsFalse:0,trueText:"serial output enabled",falseText:"serial not used",default:!1}),t+=helpEasy.addInput({type:"dropdown",toGuiSettings:!0,alt:"settings-change",title:"serial baud rate",settingsId:"config--serial--baudrate",list2value:!0,default:3,optionList:[{text:"9600",value:9600,disabled:!1,note:""},{text:"19200",value:19200,disabled:!1,note:""},{text:"57600",value:57600,disabled:!1,note:""},{text:"115200",value:115200,disabled:!1,note:""},{text:"128000",value:128e3,disabled:!0,note:""},{text:"256000",value:256e3,disabled:!0,note:""}]}),t+="<hr>",t+=helpEasy.addInput({type:"dropdown",toGuiSettings:!0,alt:"settings-change",title:"syntax of copy to clipboard",settingsId:"defaultSettings--clipboardSyntax",placeholder:"",default:0,optionList:[{text:"Default",value:0,disabled:!1,note:""},{text:"GitHub",value:1,disabled:!1,note:""},{text:"phpBB",value:2,disabled:!1,note:""}]})),"location"===e&&(t+=helpEasy.addInput({type:"number",toSettings:!0,alt:"settings-change",title:"Longitude [°]",settingsId:"config--location--long",placeholder:"",default:0,max:180,min:-180,step:1e-14}),t+=helpEasy.addInput({type:"number",toSettings:!0,alt:"settings-change",title:"Latitude [°]",settingsId:"config--location--lat",placeholder:"",default:0,max:90,min:-90,step:1e-14})),"time"===e&&(t+=helpEasy.addInput({type:"toggle",toGuiSettings:!0,alt:"settings-change",title:"use ntp server",settingsId:"config--ntp--enabled",settingsTrue:1,settingsFalse:0,falseText:"ntp disabled",trueText:"use ntp server",default:!1}),t+=helpEasy.addInput({type:"string",toSettings:!0,alt:"settings-change",title:"ntp server",settingsId:"config--ntp--host",placeholder:"blank = default ntp server",default:""}),t+=helpEasy.addInput({type:"toggle",toGuiSettings:!0,alt:"settings-change",title:"daylight saving",settingsId:"config--dst--enabled",settingsTrue:1,settingsFalse:0,trueText:"daylight saving is enabled",falseText:"no daylight saving",default:!1}),t+="<hr>",t+="<div class='main-bg-inverted'>"+helpEasy.capitalWord("dst starting")+"</div>",t+=helpEasy.addInput({type:"dropdown",title:"week",alt:"settings-change",settingsId:"config--1",placeholder:"",default:0,optionList:guiEasy.timelist.week}),t+=helpEasy.addInput({type:"dropdown",title:"day",alt:"settings-change",settingsId:"config--2",placeholder:"",default:0,optionList:guiEasy.timelist.day}),t+=helpEasy.addInput({type:"dropdown",title:"month",alt:"settings-change",settingsId:"config--3",placeholder:"",default:0,optionList:guiEasy.timelist.month}),t+=helpEasy.addInput({type:"number",toSettings:!0,alt:"settings-change",title:"hour",settingsId:"config--4",placeholder:"",tooltip:"The hour that <br> will be jumped ahead.",default:2,max:23,min:0,step:1}),t+="<hr><div class='main-bg-inverted'>"+helpEasy.capitalWord("dst ending")+"</div>",t+=helpEasy.addInput({type:"dropdown",title:"week",alt:"settings-change",settingsId:"config--5",placeholder:"",default:0,optionList:guiEasy.timelist.week}),t+=helpEasy.addInput({type:"dropdown",title:"day",alt:"settings-change",settingsId:"config--6",placeholder:"",default:0,optionList:guiEasy.timelist.day}),t+=helpEasy.addInput({type:"dropdown",title:"month",alt:"settings-change",settingsId:"config--7",placeholder:"",default:0,optionList:guiEasy.timelist.month}),t+=helpEasy.addInput({type:"number",toSettings:!0,alt:"settings-change",title:"hour",settingsId:"config--8",placeholder:"",tooltip:"The hour that <br> will be jumped behind.",default:2,max:23,min:0,step:1})),"rules"===e&&(t+=helpEasy.addInput({type:"toggle",toSettings:!0,alt:"settings-change",title:"use rules",settingsId:"config--rules--enabled",settingsTrue:0,settingsFalse:1,trueText:"rules are not used",falseText:"rules are activated",default:!0}),t+=helpEasy.addInput({type:"toggle",toSettings:!0,alt:"settings-change",title:"tolerant last parameter",settingsId:"config--rules--tolerantargs",settingsTrue:1,settingsFalse:0,trueText:"last parameter can be left out",falseText:"tolerance is set to strict",default:!0}),t+=helpEasy.addInput({type:"toggle",toSettings:!0,alt:"settings-change",title:"use old rules engine",settingsId:"config--rules--oldengine",settingsTrue:1,settingsFalse:0,falseText:"old engine",trueText:"experimental engine",default:!0}),t+=helpEasy.addInput({type:"toggle",toSettings:!0,alt:"settings-change",title:"send to http wait for acknowledge",settingsId:"config--rules--SendToHTTPack",settingsTrue:1,settingsFalse:0,trueText:"send to http = wait for ok",falseText:"send to http = send & forget",default:!0})),"mqtt"===e&&(t+=helpEasy.addInput({type:"number",toSettings:!0,alt:"settings-change",title:"message interval [ms]",settingsId:"config--mqtt--interval",placeholder:"",tooltip:"This is the minimum time <br> in-between messages.",default:100,max:999999,min:0,step:1}),t+=helpEasy.addInput({type:"toggle",toSettings:!0,alt:"settings-change",title:"mqtt retain",settingsId:"config--mqtt--retain_flag",settingsTrue:1,settingsFalse:0,trueText:"mqtt retain used",falseText:"mqtt retain not used",default:!1}),t+=helpEasy.addInput({type:"toggle",toSettings:!0,alt:"settings-change",title:"use user name",settingsId:"config--mqtt--useunitname",settingsTrue:1,settingsFalse:0,trueText:"use unit name as client id",falseText:"use generic client id",default:!1}),t+=helpEasy.addInput({type:"toggle",toSettings:!0,alt:"settings-change",title:"use client id",settingsId:"config--mqtt--changeclientidrecon",settingsTrue:1,settingsFalse:0,trueText:"change client id each connect",falseText:"persistent client id",default:!1})),t+=helpEasy.openColumn()},guiEasy.popper.modal.factoryReset=function(){let e="<div class='column'>";return e+=helpEasy.addInput({type:"toggle",title:"keep unit name",settingsTrue:0,settingsFalse:1,trueText:"will keep unit name / no",falseText:"will not keep unit name / no",default:!1}),e+=helpEasy.addInput({type:"toggle",title:"keep wifi config",settingsTrue:0,settingsFalse:1,trueText:"will keep wifi config",falseText:"will not keep wifi config",default:!1}),e+=helpEasy.addInput({type:"toggle",title:"keep network config",settingsTrue:0,settingsFalse:1,trueText:"will keep network config",falseText:"will not keep network config",default:!1}),e+=helpEasy.addInput({type:"toggle",title:"keep ntp dst config",settingsTrue:0,settingsFalse:1,trueText:"will keep ntp / dst config",falseText:"will not keep ntp / dst config",default:!1}),e+=helpEasy.addInput({type:"toggle",title:"keep log config",settingsTrue:0,settingsFalse:1,trueText:"will keep log config",falseText:"will not keep log config",default:!1}),e+="<hr>",(e+=helpEasy.addInput({type:"dropdown",title:"pre-defined config to use",placeholder:"",default:0,optionList:guiEasy.gpiolist()}))+"</div>"},guiEasy.popper.drawer=function(e){let t=e.args[1],n=document.getElementById("drawer-"+t),a=n.dataset;n.classList.toggle(a.close),n.classList.toggle(a.open),helpEasy.addToLogDOM("drawer: "+t,1)},guiEasy.popper.theme=function(e){let t=e.args[1];if("default"===t){let e=document.querySelectorAll('*[id^="theme-"]');for(let t=0;t<e.length;t++){if("css-familycustom"===e[t].dataset.alt)continue;let n={};n.args=e[t].dataset,n.placeholder=e[t].placeholder,n.newValue=e[t].dataset.defaultValue,n.newState=e[t].dataset.defaultValue,n.index=e[t].dataset.defaultIndex,guiEasy.popper.css(n)}}if("copy"===t){let t=document.getElementById("custom-theme-settings"),n=JSON.stringify(t.dataset);null===(n=n.match(/".*?\|.*?"/g))&&(n=["NO CHANGES WAS MADE TO THE THEME"]);let a=[];for(let e=0;e<n.length;e++){let t=n[e].split('":"')[1];a[e]=t.slice(0,t.length-1)}a.sort();let s="";for(let e=0;e<a.length;e++)s+=a[e],e!==a.length-1&&(s+="\n");helpEasy.copyToClipboard(s),e.args[1]="theme",e.args[2]="copy",guiEasy.popper.modal(e)}if("import"===t){let t=e.args[2].replace(/_/g,"-");t=document.getElementById(t).value,document.getElementById("modal-container").classList.add("is-hidden");let n=t.split("\n"),a=defaultSettings.css;for(let e=0;e<n.length;e++){let t=n[e],s=t.split("|")[0],l=t.split("|")[1],i=s.split("-"),o="",r="";"toggle"===(i=i[i.length-1])&&(o=a.toggle[s][l]),"size"===i&&(r=a.size[s].placeholder,l=parseInt(l));let d={type:"update",newValue:l,newState:o,placeholder:r,args:{alt:"css-"+i,change:s}};setTimeout(function(){guiEasy.popper.tryCallEvent(d)},10*e)}}},guiEasy.popper.delete=function(e){if("file"===e.args[1]){document.getElementById(e.dataset.filename).classList.add("is-inactive"),guiEasy.nodes[helpEasy.getCurrentIndex()].deleteFile=e.dataset.filename;let t="http://"+guiEasy.nodes[helpEasy.getCurrentIndex()].ip+"/filelist?delete="+e.dataset.filename;fetch(t).then(e=>{helpEasy.addToLogDOM("response: "+e,2),helpEasy.schedulerBump(guiEasy.nodes[helpEasy.getCurrentIndex()].scheduler,"filelist_json"),helpEasy.schedulerBump(guiEasy.nodes[helpEasy.getCurrentIndex()].scheduler,"sysinfo_json"),helpEasy.updateIndicator()})}},guiEasy.popper.ghost=function(e){console.log(e)},guiEasy.popper.screenshot=function(){helpEasy.screenshot()},guiEasy.popper.area=function(e){let t=e.args[1],n=e.args.slice(2).join("-"),a=document.getElementById(n),s=document.getElementById("button-min-"+n),l=document.getElementById("button-max-"+n);"min"===t?(a.classList.add("hide-contents"),l.classList.remove("is-hidden"),s.classList.add("is-hidden")):(a.classList.remove("hide-contents"),l.classList.add("is-hidden"),s.classList.remove("is-hidden"))},guiEasy.popper.update=async function(e){if("location"===e.args[1]&&!0===helpEasy.internet()&&(void 0===defaultSettings.location&&(defaultSettings.location=await helpEasy.locationByIP()),document.getElementById("settings-input-Longitude-[°]").value=defaultSettings.location.longitude,document.getElementById("settings-input-Latitude-[°]").value=defaultSettings.location.latitude),void 0===e.args.alt)return;"settings-change"===e.args.alt&&guiEasy.popper.settingsDiff(e);let t=e.args.alt.split("-")[0];"css"===t&&guiEasy.popper.css(e),"editor"===t&&console.log(e)},guiEasy.popper.task=function(e){if("edit"===e.args[1]){let t=parseInt(e.args[2]),n=(document.getElementById("setup-templates").dataset,guiEasy.nodes[helpEasy.getCurrentIndex()].settings.tasks[t-1].device);guiEasy.popper.modal({args:[t,"task","edit"]}),console.log(n)}console.log(e)},guiEasy.popper.settingsDiff=function(e){let t=e.args.type,n=(e.args.settings.split("--"),helpEasy.getCurrentIndex());guiEasy.nodes[n].settings,guiEasy.nodes[n].settingsBrowser;if("string"===t&&void 0!==e.args.settingsIp){let t=e.newValue;t=t.slice(0,15),document.getElementById(e.args.id).value=t,helpEasy.checkIfIP(t)?helpEasy.blinkElement(e.args.id,"success"):helpEasy.blinkElement(e.args.id,"warning")}if("toggle"===t){let t=document.getElementById(e.args.id);document.getElementById("label-"+e.args.id).innerHTML=helpEasy.capitalWord(t.dataset[t.checked+"Text"])}},guiEasy.popper.settings=function(e){let t={type:"wave",text:e.args[1],color:e.args[2]};guiEasy.popper.tryCallEvent(t)},guiEasy.popper.wave=function(e){let t=document.getElementById("wave"),n=document.getElementById("wave-text");t.classList.add("main-"+e.color),n.innerHTML=helpEasy.capitalWord(e.text),t.classList.remove("is-inactive"),setTimeout(function(){t.classList.add("is-inactive"),t.classList.remove("main-"+e.color)},800)},guiEasy.popper.shortcut=function(e){let t="",n=defaultSettings.preventDefaults;if(!0===e.alt&&(t+="alt "),!0===e.ctrl&&(t+="ctrl "),"ctrl+keys"===(t=(t+=e.key).trim().replace(/ /g,"+").toLowerCase())&&"keydown"===e.state&&n[t]){e.event.preventDefault();let t={};t.args="settings-save-success".split("-"),guiEasy.popper.settings(t)}if("ctrl+keyz"===t&&"keydown"===e.state&&n[t]){e.event.preventDefault();let t={};t.args="settings-cancel-sunny".split("-"),guiEasy.popper.settings(t),helpEasy.guiUpdaterSettings()}if("alt+altleft"===t&&"keydown"===e.state&&n["alt+digit"]){let e=document.querySelectorAll(".alt-popup");for(let t=0;t<e.length;t++)e[t].classList.remove("is-hidden")}if("ctrl+enter"===t&&"keydown"===e.state&&n[t]&&helpEasy.screenshot(),"altleft"===t&&"keyup"===e.state){let e=document.querySelectorAll(".alt-popup");for(let t=0;t<e.length;t++)e[t].classList.add("is-hidden")}"escape"===t&&"keydown"===e.state&&n[t]&&guiEasy.popper.modal({args:["modal","close"]}),"ctrl+space"===t&&"keydown"===e.state&&n[t];let a=t.replace(/^\D+/g,"");if(t==="alt+digit"+a&&"keydown"===e.state&&n["alt+digit"]&&guiEasy.popper.tab({args:["tab",a]}),("alt+arrowleft"===t&&"keydown"===e.state||"alt+arrowright"===t&&"keydown"===e.state)&&n["alt+arrows"]){let e=guiEasy.current.tabNumber;for("alt+arrowleft"===t?e-=1:e+=1;void 0===guiEasy.tabNumber[e];)"alt+arrowleft"===t?e-=1:e+=1,e<0&&(e=9),e>9&&(e=0);guiEasy.popper.tab({args:["tab",e]})}helpEasy.addToLogDOM("key combo: "+t+" ("+e.state+")",2)},guiEasy.popper.favicon=function(){let e={inverted:"#2F4252",sunny:"#FFD100",info:"#FF8F12",warning:"#EF483D",success:"#00AE41",font:"#FFFFFF"},t=document.getElementById("custom-theme-settings").dataset;if(Object.keys(t).length>0)for(let n=0;n<Object.keys(t).length;n++){let a=Object.keys(t)[n].toString(),s=a.split(/(?=[A-Z])/).map(e=>e.toLowerCase()),l=helpEasy.rgb2hex(t[a].split("|")[1]);e[s[1]]=l}helpEasy.favicon(e)},guiEasy.popper.css=function(e){let t=document.documentElement.style,n="'Segoe UI', Calibri, Arial",a=document.getElementById("custom-theme-settings"),s=e.args.alt.split("-")[1],l=e.args.change,i=e.newValue,o=document.getElementById("theme-"+l);if("color"===s&&(i.match("#")&&(i=helpEasy.hex2rgb(i)),o.value=helpEasy.rgb2hex(i),"main-bg-color"===l&&(document.getElementsByName("theme-color")[0].content=helpEasy.rgb2hex(i),guiEasy.current.backgroundColor=helpEasy.rgb2hex(i)),"main-inverted-color"===l&&(guiEasy.current.invetedColor=helpEasy.rgb2hex(i))),"toggle"===s){let t=e.newState;i=helpEasy.swapKey2Value(defaultSettings.css.toggle[l])[t];let n=document.getElementById("theme-"+l).dataset;void 0===n[t+"Text"]?document.getElementById("label-"+l).innerText=e.args[t+"Text"]:document.getElementById("label-"+l).innerText=n[t+"Text"],document.getElementById("theme-"+l).checked=t}if("size"===s&&(o.value=i,i+=e.placeholder),"family"===s){let e=document.getElementById("row-custom-font-family"),t=document.getElementById("theme-custom-font-family"),a=0,s=defaultSettings.css.family["default-font-family"];for(let e=0;e<s.length;e++)s[e].value===i&&(a=e);if(a>0)o.selectedIndex=a,t.value="",e.classList.add("is-hidden");else{if(o.selectedIndex=0,e.classList.remove("is-hidden"),e.scrollIntoView(!0),i.split("|").length>1)i=n;else{let e=i.replace(", "+n,"");e=e.replace(/'/g,""),document.getElementById("theme-custom-font-family").value=e,i="'"+guiEasy.popper.css.customFont()+"', "+n}}}if("familycustom"===s){i="'"+guiEasy.popper.css.customFont()+"', "+n}"url"===s&&(o.value=i,guiEasy.popper.css.customBackground(e)),a.setAttribute("data-"+l,l+"|"+i),t.setProperty("--"+l,i),guiEasy.popper.favicon()},guiEasy.popper.css.testUrl=function(e,t,n){let a=document.getElementById(t);null!==a&&a.remove(),(a=document.createElement("link")).id=t,a.type="text/css",a.rel="stylesheet",a.setAttribute("data-error","warning"),a.setAttribute("data-load","success"),a.addEventListener("error",function(){helpEasy.blinkElement(n,"warning")}),a.addEventListener("load",function(){helpEasy.blinkElement(n,"success")}),document.head.appendChild(a),a.href=e},guiEasy.popper.css.customFont=function(){let e=document.getElementById("theme-custom-font-family"),t="https://fonts.googleapis.com/css?family="+e.value.split(" ").join("+");return guiEasy.popper.css.testUrl(t,"custom-google-font-link","theme-custom-font-family"),e.value},guiEasy.popper.css.customBackground=function(e){let t=e.newValue,n=document.body;""===t&&n.classList.remove("got-wallpaper");guiEasy.popper.css.testUrl(t,"custom-background-link","theme-custom-wallpaper-url");let a=document.styleSheets[0];for(let e=0;e<a.cssRules.length;e++){let n=a.cssRules[e];"body.got-wallpaper::after"!==n.selectorText&&"div.got-wallpaper::after"!==n.selectorText||(n.style.background="url("+t+")",n.style.backgroundRepeat="no-repeat",n.style.backgroundPosition="center center",n.style.backgroundSize="cover",n.style.backgroundAttachment="fixed",n.style.backgroundAttachment="fixed")}""!==t&&n.classList.add("got-wallpaper")},guiEasy.popper.rules=function(){let e=guiEasy.popper.rules;e.splitSyntax();let t=document.getElementById("rules-editor");if(null===t)return;let n=document.getElementById("rules-editor-syntax"),a=document.getElementById("rules-editor-input"),s=document.getElementById("rules-editor-selection"),l=document.getElementById("rules-editor-background");guiEasy.popper.rules.syntax.editorElement=t,guiEasy.popper.rules.syntax.syntaxElement=n,guiEasy.popper.rules.syntax.inputElement=a,guiEasy.popper.rules.syntax.selectionElement=s,guiEasy.popper.rules.syntax.backgroundElement=l,t.addEventListener("input",e.input,!1),t.addEventListener("keydown",e.input.tab,!1),e.handleScroll()},guiEasy.popper.rules.syntax={command:[["7db","73","P"],["7dn","73","P"],["7doff","73","P"],["7don","73","P"],["7dt","73","P"],["AccessInfo","0","I"],["Background","0","I"],["Backward","48","P"],["BlynkGet","0","I"],["Build","0","I"],["Buzzer","2","N"],["Chime","55","P"],["ChimePlay","55","P"],["ChimeSave","55","P"],["Clear","12","P"],["ClearAccessBlock","0","I"],["ClearRTCRAM","0","I"],["Config","0","I"],["DCMotor","48","P"],["Debug","0","I"],["DeepSleep","0","I"],["Delay","0","I"],["DMX","54","P"],["Double","48","P"],["Email","1","N"],["ENCwrite","59","P"],["Eq","65","P"],["Erase","0","I"],["Event","5","C"],["ExecuteRules","0","I"],["EXTGPIO","11","P"],["EXTLongPulse","11","P"],["EXTPulse","11","P"],["EXTPWM","11","P"],["Forward","48","P"],["GetLevel","21","P"],["GPIO","1","P"],["High","36","P"],["HLWCalibrate","76","P"],["HLWReset","76","P"],["I2CScanner","0","I"],["InputSwitchState","1","P"],["InterLeave","48","P"],["IP","0","I"],["IRSend","35","P"],["JVC","35","P"],["LCDCMD","12","P"],["Let","0","I"],["LogEntry","0","I"],["LongPulse","1","P"],["LongPulse_ms","1","P"],["Low","36","P"],["LowMem","0","I"],["MalLoc","0","I"],["Mbr","57","P"],["MCPGPIO","9","P"],["MCPLongPulse","9","P"],["MCPPulse","9","P"],["MemInfo","0","I"],["MHZABCDisable","49","P"],["MHZABCEnable","49","P"],["MHZCalibrateZero","49","P"],["MHZMeasurementRange1000","49","P"],["MHZMeasurementRange2000","49","P"],["MHZMeasurementRange3000","49","P"],["MHZMeasurementRange5000","49","P"],["MHZReset","49","P"],["MicroStep","48","P"],["Mnum","57","P"],["Monitor","1","P"],["MotorShieldCMD","48","P"],["Mprint","57","P"],["NEC","35","P"],["NeoClockColor","41","P"],["NeoPixel","38","P"],["NeoPixelAll","38","P"],["NeoPixelLine","38","P"],["NeoTestAll","41","P"],["NeoTestLoop","41","P"],["Nextion","75","P"],["NoSleep","0","I"],["Notify","0","I"],["Off","12","P"],["OLEDCMD","23","P"],["OLEDFramedCMD","36","P"],["Panasonic","35","P"],["Password","0","I"],["PCAFrq","22","P"],["PCAPWM","22","P"],["PCFGPIO","19","P"],["PCFLongPulse","19","P"],["PCFPulse","19","P"],["PinState","1","P"],["Pioneer","35","P"],["Publish","0","I"],["Pulse","1","P"],["PWM","1","P"],["Raw","35","P"],["RC5","35","P"],["RC6","35","P"],["Reboot","0","I"],["Release","48","P"],["ResetFlashWriteCounter","0","I"],["Restart","0","I"],["RTTTL","1","P"],["Samsung","35","P"],["SDCard","0","I"],["SDRemove","0","I"],["SendToHTTP","0","I"],["SendToUDP","0","I"],["Senseair_SetABCPeriod","52","P"],["Senseair_SetRelay","52","P"],["SentTo","0","I"],["SerialFloat","0","I"],["SerialSend","20","P"],["Servo","1","P"],["SetLevel","21","P"],["Settings","0","I"],["Single","48","P"],["Sony","35","P"],["Status","1","P"],["Stepper","48","P"],["Stop","65","P"],["SysLoad","0","I"],["Tare","67","P"],["TaskClear","0","I"],["TaskClearAll","0","I"],["TaskRun","0","I"],["TaskValueSet","0","I"],["TaskValueSetAndRun","0","I"],["TimerPause","0","I"],["TimerResume","0","I"],["TimerSet","0","I"],["Tone","1","P"],["UDPTest","0","I"],["Unit","0","I"],["WDConfig","0","I"],["WDRead","0","I"],["WiFiAPMode","0","I"],["WiFiConnect","0","I"],["WiFiDisconnect","0","I"],["WiFiKey","0","I"],["WiFiKey2","0","I"],["WiFiScan","0","I"],["WiFiSSID","0","I"],["WiFiSSID2","0","I"],["Vol","65","P"]],event:[["Clock#Time=","0","I"],["GPIO#","0","I"],["GPS#GotFix","82","P"],["GPS#LostFix","82","P"],["Login#Failed","0","I"],["MQTT#Connected","0","I"],["MQTT#Disconnected","0","I"],["MQTTimport#Connected","0","I"],["MQTTimport#Disconnected","0","I"],["Rules#Timer=","0","I"],["Rules#TimerPause=","0","I"],["Rules#TimerResume=","0","I"],["System#Boot","0","I"],["System#Sleep","0","I"],["System#Wake","0","I"],["Time#Initialized","0","I"],["Time#Set","0","I"],["WiFi#APmodeDisabled","0","I"],["WiFi#APmodeEnabled","0","I"],["WiFi#ChangedAccesspoint","0","I"],["WiFi#Connected","0","I"],["WiFi#Disconnected","0","I"]],arithmetic:[["+"],["-"],["*"],["/"],["^"]],parentheses:[[")"],["("]],logic:[["and"],["or"],["="],["!="],["<"],[">"],[">="],["<="],["<>"]],block:[["On"],["Do"],["EndOn"]],statement:[["If"],["Else"],["EndIf"]],comment:[["//","EOL"]],variable:[["[VAR#"],["[INT#"]],transformer:{binary:["]","#C]","#C!]","#H]","#H!]","#I]","#I!]","#M]","#M!]","#m]","#m!]","#O]","#O!]","#U]","#U!]","#u]","#u!]","#V]","#X]","#X!]","#Y]","#Y!]","#y]","#y!]","#Z]","#Z!]"],floatingPoint:["#D000.000]","#D000]","#D.000]","#F]","#E]"],justification:["#P000]","#S000]","#L000]","#R000]","#U000.000]"]}},guiEasy.popper.rules.splitSyntax=function(){let e=guiEasy.popper.rules.syntax,t={},n=["command","event","arithmetic","logic","block","statement","comment","parentheses","variable"];for(let a=0;a<n.length;a++){let s=e[n[a]];for(let e=0;e<s.length;e++){let l=s[e],i=l[0].split(""),o=t;for(let e=0;e<i.length;e++){let t=i[e].toLowerCase();void 0===o[t]&&(o[t]={}),e!==i.length-1||(o[t].type=n[a],o[t].full=l,o[t].elementsPriorToHighlight=e),o=o[t]}}}guiEasy.popper.rules.syntax.hightlight=t},guiEasy.popper.rules.input=function(){let e=guiEasy.popper.rules.syntax;guiEasy.popper.rules.input.highlight(e.editorElement,e.syntaxElement)},guiEasy.popper.rules.input.highlight=function(){guiEasy.popper.rules.syntaxHighlight()},guiEasy.popper.rules.input.tab=function(e){let t=guiEasy.popper.rules;if("keydown"===e.type&&"Tab"===e.code){e.preventDefault();let n=t.syntax.editorElement,a=n.selectionStart;n.value=n.value.substring(0,n.selectionStart)+"   "+n.value.substring(n.selectionEnd),n.selectionStart=a+3,n.selectionEnd=a+3,t.input()}},guiEasy.popper.rules.handleScroll=function(){let e=!1,t=!1,n=guiEasy.popper.rules.syntax,a=["syntax","input","selection"];n.editorElement.onscroll=function(){if(!e){t=!0;for(let e=0;e<a.length;e++){let t=n[a[e]+"Element"];t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft}}e=!1}},guiEasy.popper.rules.syntaxHighlight=function(){let e=guiEasy.popper.rules,t=e.syntax.editorElement.value.split(""),n=-1,a=0,s="<div class='syntax-row' name='row-"+a+"'>",l="<div class='syntax-row' name='row-"+a+"'>";for(let i=0;i<t.length;i++){let o=e.syntaxHighlight.fixSpecialChars(t[i]);"NEW_ROW"===o?(s+="&zwnj;</div><div class='syntax-row' name='row-"+ ++a+"'>",l+="&zwnj;</div><div class='syntax-row' name='row-"+a+"'>"):(s+="<div class='syntax-element {{TYPE_OF_SYNTAX_"+(n+=1)+"}}' name='hightlight-"+n+"'>"+o+"</div>",l+="<div class='syntax-element' name='hightlight-"+n+"'>"+o+"</div>")}s+="</div>&zwnj;",l+="</div>&zwnj;",e.syntax.syntaxElement.innerHTML=e.syntaxHighlight.regEx(s,t),e.syntax.selectionElement.innerHTML=l,e.syntax.inputElement.innerHTML=l},guiEasy.popper.rules.syntaxHighlight.regEx=function(e,t){let n=[],a=[],s=guiEasy.popper.rules.syntaxHighlight;for(let e=0;e<t.length;e++)"\n"===t[e]?(a.push(n),n=[]):n.push(t[e]);return n.length>0&&a.push(n),s.fixSyntaxMatrix(a,e)},guiEasy.popper.rules.syntaxHighlight.fixSyntaxMatrix=function(e,t){let n=guiEasy.popper.rules.syntaxHighlight,a=guiEasy.popper.rules.syntax.hightlight,s=-1,l=[];for(let t=0;t<e.length;t++){let i=e[t];for(let e=0;e<i.length;e++){s++,l.push();let t=i[e].toLowerCase();if(l[s]=""," "!==t&&" "!==t&&" "!==t||(l[s]="syntax-is-space"),","===t&&(l[s]="syntax-is-comma"),0*t!=0&&"."!==t||(l[s]="syntax-is-number"),void 0!==a[t]){let t=n.parseRow(i,e,a);if(!1===t.found)continue;if(l[s]=t.type,t.elements>0)for(let e=0;e<t.elements;e++)s++,l.push(),l[s]=t.type;e=t.k}}}for(let e=0;e<l.length;e++)t=t.replace("{{TYPE_OF_SYNTAX_"+e+"}}",l[e]);return t},guiEasy.popper.rules.syntaxHighlight.parseRow=function(e,t,n){let a=null,s=null,l=0,i=t,o=n;for(let n=t;n<e.length;n++){if(null!==a)continue;l++;let t=e[n].toLowerCase();if(" "===t&&(a=!1),void 0!==o[t]&&void 0!==(o=o[t]).full){let t=e[n-o.elementsPriorToHighlight-1],r=parseFloat(t),d=e[n+1],u=parseFloat(d);"comment"===o.type&&(s="syntax-is-"+o.type,a=!0,i=e.length,l=e.length-n),"logic"===o.type&&(isNaN(r)&&" "!==t&&"]"!==t||" "!==d&&isNaN(u)||(s="syntax-is-"+o.type,a=!0,i=n,l=o.elementsPriorToHighlight)),"arithmetic"===o.type&&(isNaN(r)&&" "!==t&&"]"!==t&&")"!==t||isNaN(u)&&" "!==d&&"["!==d&&"("!==d||(s="syntax-is-"+o.type,a=!0,i=n,l=o.elementsPriorToHighlight)),"event"===o.type&&(" "!==d&&isNaN(u)||(s="syntax-is-"+o.type,a=!0,i=n,l=o.elementsPriorToHighlight)),"command"!==o.type&&"block"!==o.type&&"statement"!==o.type||" "!==t&&void 0!==t||" "!==d&&","!==d&&void 0!==d||(s="syntax-is-"+o.type,a=!0,i=n,l=o.elementsPriorToHighlight),"parentheses"===o.type&&(isNaN(u)&&" "!==d&&"/"!==d&&"*"!==d&&"+"!==d&&"-"!==d&&void 0!==d||(s="syntax-is-"+o.type,a=!0,i=n,l=o.elementsPriorToHighlight)),"variable"===o.type&&(isNaN(u)||(s="syntax-is-"+o.type,a=!0,i=n,l=o.elementsPriorToHighlight)),"transformer"===o.type&&(isNaN(u)||(s="syntax-is-"+o.type,a=!0,i=n,l=o.elementsPriorToHighlight))}}return null===s?{found:!1,k:t,elements:0,type:null}:{found:a,k:i,elements:l,type:s}},guiEasy.popper.rules.syntaxHighlight.fixSpecialChars=function(e){return 10===e.charCodeAt(0)&&(e="NEW_ROW"),32===e.charCodeAt(0)&&(e="&nbsp;"),e},guiEasy.pitcher=function(e,t){let n=helpEasy.urlParams();helpEasy.getGuiInFields(),helpEasy.setCurrentIndex(-1),guiEasy.nodes.push({ip:"192.168.74.164",type:"queen"}),helpEasy.pingIP(guiEasy.nodes,helpEasy.handlePingResults,helpEasy.handlePingResults).then(e=>e),helpEasy.scheduleFetch(guiEasy.nodes,0);let a=setInterval(function(){void 0!==guiEasy.current.live&&(clearInterval(a),helpEasy.setCurrentIndex(0),guiEasy.current.live=helpEasy.getCurrentIndex(),helpEasy.guiUpdater(),helpEasy.addToLogDOM("pageSize",1))},guiEasy.fetchSettings.intervalTimeKeeper),s=setInterval(function(){void 0!==guiEasy.current.gui&&(clearInterval(s),helpEasy.fetchConfigDat(guiEasy.nodes,helpEasy.getCurrentIndex()),helpEasy.addToLogDOM("pageSize",1))},50),l=setInterval(function(){void 0!==guiEasy.current.config&&(clearInterval(l),helpEasy.guiUpdaterSettings(),helpEasy.addToLogDOM("pageSize",1))},50),i=setInterval(function(){void 0!==guiEasy.current.live&&void 0!==guiEasy.current.gui&&void 0!==guiEasy.current.config&&(clearInterval(i),guiEasy.popper.tab({args:["tab",n.tab]}),console.log(n),console.log(guiEasy),helpEasy.addToLogDOM("pageSize",1),helpEasy.processDone(e,t))},1)},guiEasy.butler=async function(e,t){!0===helpEasy.internet()&&(defaultSettings.location=await helpEasy.locationByIP()),helpEasy.addToLogDOM("pageSize",1),helpEasy.processDone(e,t)},guiEasy.tender=function(e,t){setInterval(function(){let e=Date.now(),t=guiEasy.nodes,n=guiEasy.fetchSettings.intervalTimeKeeper;for(let a=0;a<t.length;a++){if(void 0===t[a].stats.lastCheck&&(t[a].stats.lastCheck=e),t[a].stats.error>1){let n=5*guiEasy.fetchSettings.intervalTimeKeeper;console.log("@:"+new Date(e).toISOString()+">>> We missed 2 fetches in a row... will wait "+n+" ms before retry."),helpEasy.schedulerDelay(t,a,n);continue}if(t[a].stats.error<2&&t[a].scheduler[0][0]<e&&n<e-t[a].stats.lastRun&&n<e-t[a].stats.lastCheck){t[a].stats.lastCheck=e;let n=t[a].scheduler[0][1];helpEasy.scheduleFetch(guiEasy.nodes,a,n),helpEasy.setCurrentOnline("online")}Date.now()-t[a].stats.lastCheck>5*guiEasy.fetchSettings.intervalTimeKeeper&&helpEasy.setCurrentOnline()}},10),setInterval(function(){helpEasy.guiUpdater(),!1===helpEasy.internet()?guiEasy.popper.topNotifier("internetDown","Internet connection is down.","warning"):"internetDown"===guiEasy.nodes[helpEasy.getCurrentIndex()].notifierID&&guiEasy.popper.topNotifier("internetUp","Internet connection is re-established.","success",5),!1===helpEasy.getCurrentIndex("online")&&!0===helpEasy.internet()?guiEasy.popper.topNotifier("unitDown","Connection with unit lost.","warning"):"unitDown"===guiEasy.nodes[helpEasy.getCurrentIndex()].notifierID&&guiEasy.popper.topNotifier("unitUp","Connection with unit is re-established.","success",3)},guiEasy.fetchSettings.intervalGUIupdater),helpEasy.processDone(e,t)},window.addEventListener("load",initiate,!1);